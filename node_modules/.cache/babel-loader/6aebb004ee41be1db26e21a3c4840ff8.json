{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import axios from'axios';var token=window.localStorage.getItem('token');export var traerRecursos=function traerRecursos(){return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispacth){var instance,respuesta;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:instance=axios.create({baseURL:'http://localhost:8000/api/resources',timeout:1000,headers:{'Authorization':'Bearer '+token}});_context.next=3;return instance.get('http://localhost:8000/api/resources');case 3:respuesta=_context.sent;dispacth({type:'traer_recursos',payload:respuesta.data.recursos});/*dispacth({\r\n        type: 'traer_recursos',\r\n        payload: recursos\r\n    })*/case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};export var setFile=function setFile(file){return(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispacth){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(file);dispacth({type:'set_file',payload:file});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());};export var setType=function setType(type){return(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispacth){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispacth({type:'set_type',payload:type});case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());};export var crearRecurso=function crearRecurso(recurso,recursos){return(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispacth){var formData,instance,respuesta;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:formData=new FormData();formData.append('file',recurso.file);formData.append('name',recurso.name);formData.append(\"size\",recurso.size);instance=axios.create({baseURL:'http://localhost:8000/api/resoyrces/createResource',timeout:1000,headers:{'Authorization':'Bearer '+token}});_context4.next=7;return instance.post('http://localhost:8000/api/resources/createResource',formData);case 7:respuesta=_context4.sent;console.log(respuesta.data);recursos.push(respuesta.data.resource);dispacth({type:'crear_recurso',payload:recursos});case 11:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}());};export var editarRecurso=function editarRecurso(data,recursos){return(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispacth){var formData,instance,respuesta;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:formData=new FormData();formData.append('id',data.id);formData.append('file',data.file);formData.append('name',data.name);formData.append(\"size\",data.size);instance=axios.create({baseURL:'http://localhost:8000/api/resources/updateResource',timeout:1000,headers:{'Authorization':'Bearer '+token}});_context5.next=8;return instance.post('http://localhost:8000/api/resources/updateResource',formData);case 8:_context5.next=10;return instance.get('http://localhost:8000/api/resources');case 10:respuesta=_context5.sent;dispacth({type:'editar_recurso',payload:respuesta.data.recursos});case 12:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x5){return _ref5.apply(this,arguments);};}());};export var eliminarRecurso=function eliminarRecurso(id){return(/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispacth){var instance,respuesta;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:instance=axios.create({baseURL:'http://localhost:8000/api/resources/deleteResource',timeout:1000,headers:{'Authorization':'Bearer '+token}});_context6.next=3;return instance.post('http://localhost:8000/api/resources/deleteResource',{\"id\":id});case 3:_context6.next=5;return instance.get('http://localhost:8000/api/resources');case 5:respuesta=_context6.sent;dispacth({type:'eliminar_recurso',payload:respuesta.data.recursos});case 7:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x6){return _ref6.apply(this,arguments);};}());};","map":{"version":3,"sources":["C:/wamp64/www/whitelabel_fe/src/actions/recursosActions.js"],"names":["axios","token","window","localStorage","getItem","traerRecursos","dispacth","instance","create","baseURL","timeout","headers","get","respuesta","type","payload","data","recursos","setFile","file","console","log","setType","crearRecurso","recurso","formData","FormData","append","name","size","post","push","resource","editarRecurso","id","eliminarRecurso"],"mappings":"qOAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,GAAMC,CAAAA,KAAK,CAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAd,CAEA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,mGAAM,iBAAOC,QAAP,yIAEzBC,QAFyB,CAEdP,KAAK,CAACQ,MAAN,CAAa,CAC1BC,OAAO,CAAE,qCADiB,CAE1BC,OAAO,CAAE,IAFiB,CAG1BC,OAAO,CAAE,CAAE,gBAAiB,UAAYV,KAA/B,CAHiB,CAAb,CAFc,uBAOPM,CAAAA,QAAQ,CAACK,GAAT,CAAa,qCAAb,CAPO,QAOzBC,SAPyB,eAS/BP,QAAQ,CAAC,CACLQ,IAAI,CAAE,gBADD,CAELC,OAAO,CAAEF,SAAS,CAACG,IAAV,CAAeC,QAFnB,CAAD,CAAR,CAIA;;;QAb+B,sDAAN,iEAAtB,CAmBP,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,IAAD,mGAAU,kBAAOb,QAAP,sHAC7Bc,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAb,QAAQ,CAAC,CACLQ,IAAI,CAAE,UADD,CAELC,OAAO,CAAEI,IAFJ,CAAD,CAAR,CAF6B,wDAAV,mEAAhB,CAQP,MAAO,IAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACR,IAAD,mGAAU,kBAAOR,QAAP,sHAE7BA,QAAQ,CAAC,CACLQ,IAAI,CAAE,UADD,CAELC,OAAO,CAAED,IAFJ,CAAD,CAAR,CAF6B,wDAAV,mEAAhB,CAOP,MAAO,IAAMS,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,OAAD,CAAUP,QAAV,mGAAuB,kBAAOX,QAAP,sJACzCmB,QADyC,CAC9B,GAAIC,CAAAA,QAAJ,EAD8B,CAE/CD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBH,OAAO,CAACL,IAAhC,EACAM,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBH,OAAO,CAACI,IAAhC,EACAH,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBH,OAAO,CAACK,IAAhC,EACMtB,QALyC,CAK9BP,KAAK,CAACQ,MAAN,CAAa,CAC1BC,OAAO,CAAE,oDADiB,CAE1BC,OAAO,CAAE,IAFiB,CAG1BC,OAAO,CAAE,CAAE,gBAAiB,UAAYV,KAA/B,CAHiB,CAAb,CAL8B,wBAUvBM,CAAAA,QAAQ,CAACuB,IAAT,CAAc,oDAAd,CAAoEL,QAApE,CAVuB,QAUzCZ,SAVyC,gBAW/CO,OAAO,CAACC,GAAR,CAAYR,SAAS,CAACG,IAAtB,EACAC,QAAQ,CAACc,IAAT,CAAclB,SAAS,CAACG,IAAV,CAAegB,QAA7B,EACA1B,QAAQ,CAAC,CACLQ,IAAI,CAAE,eADD,CAELC,OAAO,CAAEE,QAFJ,CAAD,CAAR,CAb+C,yDAAvB,mEAArB,CAqBP,MAAO,IAAMgB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACjB,IAAD,CAAOC,QAAP,mGAAoB,kBAAOX,QAAP,sJACvCmB,QADuC,CAC5B,GAAIC,CAAAA,QAAJ,EAD4B,CAE7CD,QAAQ,CAACE,MAAT,CAAgB,IAAhB,CAAsBX,IAAI,CAACkB,EAA3B,EACAT,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBX,IAAI,CAACG,IAA7B,EACAM,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBX,IAAI,CAACY,IAA7B,EACAH,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwBX,IAAI,CAACa,IAA7B,EAEMtB,QAPuC,CAO5BP,KAAK,CAACQ,MAAN,CAAa,CAC1BC,OAAO,CAAE,oDADiB,CAE1BC,OAAO,CAAE,IAFiB,CAG1BC,OAAO,CAAE,CAAE,gBAAiB,UAAYV,KAA/B,CAHiB,CAAb,CAP4B,wBAavCM,CAAAA,QAAQ,CAACuB,IAAT,CAAc,oDAAd,CAAoEL,QAApE,CAbuC,gCAcrBlB,CAAAA,QAAQ,CAACK,GAAT,CAAa,qCAAb,CAdqB,SAcvCC,SAduC,gBAgB7CP,QAAQ,CAAC,CACLQ,IAAI,CAAE,gBADD,CAELC,OAAO,CAAEF,SAAS,CAACG,IAAV,CAAeC,QAFnB,CAAD,CAAR,CAhB6C,yDAApB,mEAAtB,CAwBP,MAAO,IAAMkB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACD,EAAD,mGAAQ,kBAAO5B,QAAP,6IAE7BC,QAF6B,CAElBP,KAAK,CAACQ,MAAN,CAAa,CAC1BC,OAAO,CAAE,oDADiB,CAE1BC,OAAO,CAAE,IAFiB,CAG1BC,OAAO,CAAE,CAAE,gBAAiB,UAAYV,KAA/B,CAHiB,CAAb,CAFkB,wBAQ7BM,CAAAA,QAAQ,CAACuB,IAAT,CAAc,oDAAd,CAAoE,CAAE,KAAMI,EAAR,CAApE,CAR6B,+BAUX3B,CAAAA,QAAQ,CAACK,GAAT,CAAa,qCAAb,CAVW,QAU7BC,SAV6B,gBAWnCP,QAAQ,CAAC,CACLQ,IAAI,CAAE,kBADD,CAELC,OAAO,CAAEF,SAAS,CAACG,IAAV,CAAeC,QAFnB,CAAD,CAAR,CAXmC,wDAAR,mEAAxB","sourcesContent":["import axios from 'axios';\r\nconst token = window.localStorage.getItem('token');\r\n\r\nexport const traerRecursos = () => async (dispacth) => {\r\n\r\n    const instance = axios.create({\r\n        baseURL: 'http://localhost:8000/api/resources',\r\n        timeout: 1000,\r\n        headers: { 'Authorization': 'Bearer ' + token }\r\n    });\r\n    const respuesta = await instance.get('http://localhost:8000/api/resources');    \r\n    \r\n    dispacth({\r\n        type: 'traer_recursos',\r\n        payload: respuesta.data.recursos\r\n    })\r\n    /*dispacth({\r\n        type: 'traer_recursos',\r\n        payload: recursos\r\n    })*/\r\n}\r\n\r\nexport const setFile = (file) => async (dispacth) => {\r\n    console.log(file);\r\n    dispacth({\r\n        type: 'set_file',\r\n        payload: file\r\n    })\r\n}\r\n\r\nexport const setType = (type) => async (dispacth) => {\r\n    \r\n    dispacth({\r\n        type: 'set_type',\r\n        payload: type\r\n    })\r\n}\r\nexport const crearRecurso = (recurso, recursos) => async (dispacth) => {\r\n    const formData = new FormData();\r\n    formData.append('file', recurso.file)    \r\n    formData.append('name', recurso.name)\r\n    formData.append(\"size\", recurso.size)\r\n    const instance = axios.create({\r\n        baseURL: 'http://localhost:8000/api/resoyrces/createResource',\r\n        timeout: 1000,\r\n        headers: { 'Authorization': 'Bearer ' + token }\r\n    });\r\n    const respuesta = await instance.post('http://localhost:8000/api/resources/createResource', formData);\r\n    console.log(respuesta.data);\r\n    recursos.push(respuesta.data.resource);\r\n    dispacth({\r\n        type: 'crear_recurso',\r\n        payload: recursos\r\n    })\r\n\r\n    \r\n}\r\n\r\nexport const editarRecurso = (data, recursos) => async (dispacth) => {\r\n    const formData = new FormData();\r\n    formData.append('id', data.id);\r\n    formData.append('file', data.file);\r\n    formData.append('name', data.name);\r\n    formData.append(\"size\", data.size);\r\n\r\n    const instance = axios.create({\r\n        baseURL: 'http://localhost:8000/api/resources/updateResource',\r\n        timeout: 1000,\r\n        headers: { 'Authorization': 'Bearer ' + token }\r\n    });\r\n\r\n    await instance.post('http://localhost:8000/api/resources/updateResource', formData);\r\n    const respuesta = await instance.get('http://localhost:8000/api/resources');     \r\n\r\n    dispacth({\r\n        type: 'editar_recurso',\r\n        payload: respuesta.data.recursos\r\n    })\r\n\r\n   \r\n}\r\n\r\nexport const eliminarRecurso = (id) => async (dispacth) => {\r\n\r\n    const instance = axios.create({\r\n        baseURL: 'http://localhost:8000/api/resources/deleteResource',\r\n        timeout: 1000,\r\n        headers: { 'Authorization': 'Bearer ' + token }\r\n    });\r\n\r\n    await instance.post('http://localhost:8000/api/resources/deleteResource', { \"id\": id });\r\n    \r\n    const respuesta = await instance.get('http://localhost:8000/api/resources');  \r\n    dispacth({\r\n        type: 'eliminar_recurso',\r\n        payload: respuesta.data.recursos\r\n    })\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}
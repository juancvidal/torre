{"ast":null,"code":"import _classCallCheck from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import CKEditor from'ckeditor4-react';import{Link}from'react-router-dom';import{connect}from'react-redux';import*as preguntasActions from'../../../../actions/preguntasActions';var EditarPregunta=/*#__PURE__*/function(_Component){_inherits(EditarPregunta,_Component);function EditarPregunta(props){var _this;_classCallCheck(this,EditarPregunta);_this=_possibleConstructorReturn(this,_getPrototypeOf(EditarPregunta).call(this,props));_this.editar=function(){var data={\"id\":_this.props.location.id,\"texto\":_this.state.texto,\"modulo_id\":document.getElementById('modulos').value,\"enunciado\":_this.state.enunciado,\"respuestas\":[{\"id\":document.getElementById('id_resp_1').value,\"texto\":document.getElementById('texto_respuesta_1').value,\"posicion\":document.getElementById('pos_resp_1').value,\"puntaje\":document.getElementById('score_resp_1').value},{\"id\":document.getElementById('id_resp_2').value,\"texto\":document.getElementById('texto_respuesta_2').value,\"posicion\":document.getElementById('pos_resp_2').value,\"puntaje\":document.getElementById('score_resp_2').value},{\"id\":document.getElementById('id_resp_3').value,\"texto\":document.getElementById('texto_respuesta_3').value,\"posicion\":document.getElementById('pos_resp_3').value,\"puntaje\":document.getElementById('score_resp_3').value}]};_this.props.editarPregunta(data);};_this.positionChange=function(e,positions){var postionsEnables=positions;var pos=postionsEnables.indexOf(e.target.value);postionsEnables.splice(pos,1);if(e.target.id=='pos_resp_1'){_this.setState({positions:postionsEnables});}else{_this.setState({positionsLastSelect:postionsEnables});}_this.props.clearPositionsDefaults();};_this.scoreChange=function(e,scores){var scoresEnables=scores;var pos=scoresEnables.indexOf(e.target.value);scoresEnables.splice(pos,1);if(e.target.id=='score_resp_1'){_this.setState({scores:scoresEnables});}else{_this.setState({scoresLastSelect:scoresEnables});}_this.props.clearScoresDefaults();};_this.showOptions=function(options){return options.map(function(op,index){return React.createElement(\"option\",{key:index,value:op},op);});};_this.delete=function(){_this.props.eliminarPregunta(_this.props.location.id);};_this.showModulos=function(){return _this.props.modulos.map(function(p,index){return React.createElement(\"option\",{key:index,value:p.id},p.texto);});};_this.textChange=function(e){};_this.state={texto:_this.props.location.texto,enunciado:_this.props.location.enunciado,positions:['a','b','c'],positionsLastSelect:['a','b','c'],scores:['0','1','2'],scoresLastSelect:['0','1','2']};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.onEditorTextoChange=_this.onEditorTextoChange.bind(_assertThisInitialized(_this));_this.onEditorEnunciadoChange=_this.onEditorEnunciadoChange.bind(_assertThisInitialized(_this));return _this;}_createClass(EditarPregunta,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.traerRespById(this.props.location.id);}},{key:\"componentWillMount\",value:function componentWillMount(){this.props.clearAllValues();}},{key:\"onEditorTextoChange\",value:function onEditorTextoChange(evt){this.setState({texto:evt.editor.getData()});}},{key:\"onEditorEnunciadoChange\",value:function onEditorEnunciadoChange(evt){this.setState({enunciado:evt.editor.getData()});}},{key:\"handleChange\",value:function handleChange(changeEvent){this.setState({data:changeEvent.target.value});}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col l12\"},React.createElement(\"div\",{className:\"card-panel\"},React.createElement(\"div\",{className:\"card-title\"},React.createElement(\"h5\",null,\"Editar pregunta\")),React.createElement(\"div\",{className:\"card-content\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"form\",{className:\"col s12\"},React.createElement(\"div\",{class:\"row\"},React.createElement(\"p\",null,\"Enunciado\"),React.createElement(CKEditor,{data:this.state.enunciado,onChange:this.onEditorEnunciadoChange})),React.createElement(\"div\",{className:\"row\"},React.createElement(\"p\",null,\"Texto de la pregunta\"),React.createElement(CKEditor,{data:this.state.texto,onChange:this.onEditorTextoChange})))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"input-field col s6\"},React.createElement(\"p\",null,\"\\xBFA qu\\xE9 tem\\xE1tica/m\\xF3dulo pertenece?\"),React.createElement(\"select\",{id:\"modulos\",className:\"browser-default\",defaultValue:this.props.location.modulo},this.showModulos())))),React.createElement(\"div\",{className:\"card-panel\"},React.createElement(\"div\",{className:\"card-content\"},React.createElement(\"span\",{className:\"card-title\"},React.createElement(\"h4\",null,\"Respuestas\")),React.createElement(\"div\",{className:\"row\"},React.createElement(\"form\",{className:\"col s12\"},React.createElement(\"input\",{id:\"id_resp_1\",type:\"hidden\",value:this.props.ids[0]}),React.createElement(\"div\",{className:\"input-field col s1\"},React.createElement(\"select\",{id:\"pos_resp_1\",className:\"browser-default\",value:this.props.positionsDefaults[0],onChange:function onChange(e){_this2.positionChange(e,['a','b','c']);}},React.createElement(\"option\",{value:\"\"},\"Posici\\xF3n\"),this.showOptions(['a','b','c']))),React.createElement(\"div\",{className:\"input-field col s10\"},React.createElement(\"input\",{id:\"texto_respuesta_1\",type:\"text\",className:\"validate\",defaultValue:this.props.textsDefaults[0],onChange:this.textChange})),React.createElement(\"div\",{className:\"input-field col s1\"},React.createElement(\"select\",{id:\"score_resp_1\",className:\"browser-default\",value:this.props.scoresDefaults[0],onChange:function onChange(e){_this2.scoreChange(e,['0','1','2']);}},React.createElement(\"option\",{value:\"\"},\"Puntaje\"),this.showOptions(['0','1','2'])))))),React.createElement(\"div\",{className:\"card-content\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"form\",{className:\"col s12\"},React.createElement(\"input\",{id:\"id_resp_2\",type:\"hidden\",value:this.props.ids[1]}),React.createElement(\"div\",{className:\"input-field col s1\"},React.createElement(\"select\",{id:\"pos_resp_2\",className:\"browser-default\",value:this.props.positionsDefaults[1],onChange:function onChange(e){_this2.positionChange(e,_this2.state.positions.slice());}},React.createElement(\"option\",{value:\"default\"},\"Posici\\xF3n\"),this.showOptions(this.state.positions))),React.createElement(\"div\",{className:\"input-field col s10\"},React.createElement(\"input\",{id:\"texto_respuesta_2\",type:\"text\",className:\"validate\",defaultValue:this.props.textsDefaults[1],onChange:this.textChange})),React.createElement(\"div\",{className:\"input-field col s1\"},React.createElement(\"select\",{id:\"score_resp_2\",className:\"browser-default\",value:this.props.scoresDefaults[1],onChange:function onChange(e){_this2.scoreChange(e,_this2.state.scores.slice());}},React.createElement(\"option\",{value:\"\"},\"Puntaje\"),this.showOptions(this.state.scores)))))),React.createElement(\"div\",{className:\"card-content\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"form\",{className:\"col s12\"},React.createElement(\"input\",{id:\"id_resp_3\",type:\"hidden\",value:this.props.ids[2]}),React.createElement(\"div\",{className:\"input-field col s1\"},React.createElement(\"select\",{id:\"pos_resp_3\",className:\"browser-default\",value:this.props.positionsDefaults[2]},React.createElement(\"option\",{value:\"\"},\"Posici\\xF3n\"),this.showOptions(this.state.positionsLastSelect))),React.createElement(\"div\",{className:\"input-field col s10\"},React.createElement(\"input\",{id:\"texto_respuesta_3\",type:\"text\",className:\"validate\",defaultValue:this.props.textsDefaults[2],onChange:this.textChange})),React.createElement(\"div\",{className:\"input-field col s1\"},React.createElement(\"select\",{id:\"score_resp_3\",className:\"browser-default\",value:this.props.scoresDefaults[2]},React.createElement(\"option\",{value:\"default\"},\"Puntaje\"),this.showOptions(this.state.scoresLastSelect)))))),React.createElement(\"div\",{className:\"card-action\"},React.createElement(Link,{className:\"btn btn-primary btn_opts\",onClick:this.editar,to:\"/preguntas\"},\"Guardar\"),React.createElement(Link,{className:\"btn btn-primary btn_opts\",to:\"/preguntas\"},\"Cancelar\"),React.createElement(Link,{className:\"btn btn-primary btn_opts\",to:\"/preguntas\",onClick:function onClick(){_this2.delete();}},\"Eliminar\"))))));}}]);return EditarPregunta;}(Component);var mapToStateProps=function mapToStateProps(reducers){return reducers.preguntasReducers;};export default connect(mapToStateProps,preguntasActions)(EditarPregunta);","map":{"version":3,"sources":["C:/wamp64/www/whitelabel_fe/src/components/dashboard/preguntas/editar/EditarPregunta.js"],"names":["React","Component","CKEditor","Link","connect","preguntasActions","EditarPregunta","props","editar","data","location","id","state","texto","document","getElementById","value","enunciado","editarPregunta","positionChange","e","positions","postionsEnables","pos","indexOf","target","splice","setState","positionsLastSelect","clearPositionsDefaults","scoreChange","scores","scoresEnables","scoresLastSelect","clearScoresDefaults","showOptions","options","map","op","index","delete","eliminarPregunta","showModulos","modulos","p","textChange","handleChange","bind","onEditorTextoChange","onEditorEnunciadoChange","traerRespById","clearAllValues","evt","editor","getData","changeEvent","modulo","ids","positionsDefaults","textsDefaults","scoresDefaults","slice","mapToStateProps","reducers","preguntasReducers"],"mappings":"07BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAO,GAAKC,CAAAA,gBAAZ,KAAkC,sCAAlC,C,GAEMC,CAAAA,c,wEAEF,wBAAYC,KAAZ,CAAmB,gDACf,gFAAMA,KAAN,GADe,MAqCnBC,MArCmB,CAqCV,UAAM,CAEX,GAAIC,CAAAA,IAAI,CAAG,CACP,KAAM,MAAKF,KAAL,CAAWG,QAAX,CAAoBC,EADnB,CAEP,QAAS,MAAKC,KAAL,CAAWC,KAFb,CAGP,YAAaC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,KAHzC,CAIP,YAAa,MAAKJ,KAAL,CAAWK,SAJjB,CAKP,aAAc,CACV,CACI,KAAMH,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAD/C,CAEI,QAASF,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CC,KAF1D,CAGI,WAAYF,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAHtD,CAII,UAAWF,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,KAJvD,CADU,CAOV,CACI,KAAMF,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAD/C,CAEI,QAASF,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CC,KAF1D,CAGI,WAAYF,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAHtD,CAII,UAAWF,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,KAJvD,CAPU,CAaV,CACI,KAAMF,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAD/C,CAEI,QAASF,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CC,KAF1D,CAGI,WAAYF,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAHtD,CAII,UAAWF,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,KAJvD,CAbU,CALP,CAAX,CA0BA,MAAKT,KAAL,CAAWW,cAAX,CAA0BT,IAA1B,EACH,CAlEkB,OAoEnBU,cApEmB,CAoEF,SAACC,CAAD,CAAIC,SAAJ,CAAkB,CAC/B,GAAIC,CAAAA,eAAe,CAAGD,SAAtB,CACA,GAAIE,CAAAA,GAAG,CAAGD,eAAe,CAACE,OAAhB,CAAwBJ,CAAC,CAACK,MAAF,CAAST,KAAjC,CAAV,CACAM,eAAe,CAACI,MAAhB,CAAuBH,GAAvB,CAA4B,CAA5B,EACA,GAAIH,CAAC,CAACK,MAAF,CAASd,EAAT,EAAe,YAAnB,CAAiC,CAC7B,MAAKgB,QAAL,CAAc,CACVN,SAAS,CAAEC,eADD,CAAd,EAGH,CAJD,IAIO,CACH,MAAKK,QAAL,CAAc,CACVC,mBAAmB,CAAEN,eADX,CAAd,EAGH,CACD,MAAKf,KAAL,CAAWsB,sBAAX,GACH,CAlFkB,OAoFnBC,WApFmB,CAoFL,SAACV,CAAD,CAAIW,MAAJ,CAAe,CACzB,GAAIC,CAAAA,aAAa,CAAGD,MAApB,CACA,GAAIR,CAAAA,GAAG,CAAGS,aAAa,CAACR,OAAd,CAAsBJ,CAAC,CAACK,MAAF,CAAST,KAA/B,CAAV,CACAgB,aAAa,CAACN,MAAd,CAAqBH,GAArB,CAA0B,CAA1B,EACA,GAAIH,CAAC,CAACK,MAAF,CAASd,EAAT,EAAe,cAAnB,CAAmC,CAC/B,MAAKgB,QAAL,CAAc,CACVI,MAAM,CAAEC,aADE,CAAd,EAGH,CAJD,IAIO,CACH,MAAKL,QAAL,CAAc,CACVM,gBAAgB,CAAED,aADR,CAAd,EAGH,CACD,MAAKzB,KAAL,CAAW2B,mBAAX,GACH,CAlGkB,OAoGnBC,WApGmB,CAoGL,SAACC,OAAD,QACVA,CAAAA,OAAO,CAACC,GAAR,CAAY,SAACC,EAAD,CAAKC,KAAL,QACR,+BAAQ,GAAG,CAAEA,KAAb,CAAoB,KAAK,CAAED,EAA3B,EAAgCA,EAAhC,CADQ,EAAZ,CADU,EApGK,OA0GnBE,MA1GmB,CA0GV,UAAM,CACX,MAAKjC,KAAL,CAAWkC,gBAAX,CAA4B,MAAKlC,KAAL,CAAWG,QAAX,CAAoBC,EAAhD,EACH,CA5GkB,OA8GnB+B,WA9GmB,CA8GL,iBAAM,OAAKnC,KAAL,CAAWoC,OAAX,CAAmBN,GAAnB,CAAuB,SAACO,CAAD,CAAIL,KAAJ,QACvC,+BAAQ,GAAG,CAAEA,KAAb,CAAoB,KAAK,CAAEK,CAAC,CAACjC,EAA7B,EAAkCiC,CAAC,CAAC/B,KAApC,CADuC,EAAvB,CAAN,EA9GK,OAkHnBgC,UAlHmB,CAkHN,SAACzB,CAAD,CAAO,CAEnB,CApHkB,CAEf,MAAKR,KAAL,CAAa,CACTC,KAAK,CAAE,MAAKN,KAAL,CAAWG,QAAX,CAAoBG,KADlB,CAETI,SAAS,CAAE,MAAKV,KAAL,CAAWG,QAAX,CAAoBO,SAFtB,CAGTI,SAAS,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAHF,CAITO,mBAAmB,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAJZ,CAKTG,MAAM,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CALC,CAMTE,gBAAgB,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CANT,CAAb,CASA,MAAKa,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,mBAAL,CAA2B,MAAKA,mBAAL,CAAyBD,IAAzB,+BAA3B,CACA,MAAKE,uBAAL,CAA+B,MAAKA,uBAAL,CAA6BF,IAA7B,+BAA/B,CAbe,aAclB,C,wFACmB,CAChB,KAAKxC,KAAL,CAAW2C,aAAX,CAAyB,KAAK3C,KAAL,CAAWG,QAAX,CAAoBC,EAA7C,EACH,C,+DACoB,CACjB,KAAKJ,KAAL,CAAW4C,cAAX,GACH,C,gEACmBC,G,CAAK,CACrB,KAAKzB,QAAL,CAAc,CACVd,KAAK,CAAEuC,GAAG,CAACC,MAAJ,CAAWC,OAAX,EADG,CAAd,EAGH,C,wEACuBF,G,CAAK,CACzB,KAAKzB,QAAL,CAAc,CACVV,SAAS,CAAEmC,GAAG,CAACC,MAAJ,CAAWC,OAAX,EADD,CAAd,EAGH,C,kDACYC,W,CAAa,CACtB,KAAK5B,QAAL,CAAc,CACVlB,IAAI,CAAE8C,WAAW,CAAC9B,MAAZ,CAAmBT,KADf,CAAd,EAGH,C,uCAmFQ,iBAEL,MACI,4BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,SAAf,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,2BAAK,SAAS,CAAC,YAAf,EAA4B,gDAA5B,CADJ,CAEI,2BAAK,SAAS,CAAC,cAAf,EACI,2BAAK,SAAS,CAAC,KAAf,EACI,4BAAM,SAAS,CAAC,SAAhB,EACI,2BAAK,KAAK,CAAC,KAAX,EACK,yCADL,CAEI,oBAAC,QAAD,EACI,IAAI,CAAE,KAAKJ,KAAL,CAAWK,SADrB,CAEI,QAAQ,CAAE,KAAKgC,uBAFnB,EAFJ,CADJ,CAOI,2BAAK,SAAS,CAAC,KAAf,EACI,oDADJ,CAEI,oBAAC,QAAD,EACI,IAAI,CAAE,KAAKrC,KAAL,CAAWC,KADrB,CAEI,QAAQ,CAAE,KAAKmC,mBAFnB,EAFJ,CAPJ,CADJ,CADJ,CAiBI,2BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,oBAAf,EACI,6EADJ,CAEI,8BAAQ,EAAE,CAAC,SAAX,CAAqB,SAAS,CAAC,iBAA/B,CAAiD,YAAY,CAAE,KAAKzC,KAAL,CAAWG,QAAX,CAAoB8C,MAAnF,EACK,KAAKd,WAAL,EADL,CAFJ,CADJ,CAjBJ,CAFJ,CA4BI,2BAAK,SAAS,CAAC,YAAf,EACI,2BAAK,SAAS,CAAC,cAAf,EACI,4BAAM,SAAS,CAAC,YAAhB,EAA6B,2CAA7B,CADJ,CAEI,2BAAK,SAAS,CAAC,KAAf,EACI,4BAAM,SAAS,CAAC,SAAhB,EACI,6BAAO,EAAE,CAAC,WAAV,CAAsB,IAAI,CAAC,QAA3B,CAAoC,KAAK,CAAE,KAAKnC,KAAL,CAAWkD,GAAX,CAAe,CAAf,CAA3C,EADJ,CAEI,2BAAK,SAAS,CAAC,oBAAf,EACI,8BAAQ,EAAE,CAAC,YAAX,CAAwB,SAAS,CAAC,iBAAlC,CAAoD,KAAK,CAAE,KAAKlD,KAAL,CAAWmD,iBAAX,CAA6B,CAA7B,CAA3D,CAA4F,QAAQ,CAAE,kBAACtC,CAAD,CAAO,CAAE,MAAI,CAACD,cAAL,CAAoBC,CAApB,CAAuB,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAvB,EAAyC,CAAxJ,EACI,8BAAQ,KAAK,CAAC,EAAd,gBADJ,CAEK,KAAKe,WAAL,CAAiB,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAjB,CAFL,CADJ,CAFJ,CAQI,2BAAK,SAAS,CAAC,qBAAf,EACI,6BAAO,EAAE,CAAC,mBAAV,CAA8B,IAAI,CAAC,MAAnC,CAA0C,SAAS,CAAC,UAApD,CAA+D,YAAY,CAAE,KAAK5B,KAAL,CAAWoD,aAAX,CAAyB,CAAzB,CAA7E,CAA0G,QAAQ,CAAE,KAAKd,UAAzH,EADJ,CARJ,CAWI,2BAAK,SAAS,CAAC,oBAAf,EACI,8BAAQ,EAAE,CAAC,cAAX,CAA0B,SAAS,CAAC,iBAApC,CAAsD,KAAK,CAAE,KAAKtC,KAAL,CAAWqD,cAAX,CAA0B,CAA1B,CAA7D,CAA2F,QAAQ,CAAE,kBAACxC,CAAD,CAAO,CAAE,MAAI,CAACU,WAAL,CAAiBV,CAAjB,CAAoB,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAApB,EAAsC,CAApJ,EACI,8BAAQ,KAAK,CAAC,EAAd,YADJ,CAEK,KAAKe,WAAL,CAAiB,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAjB,CAFL,CADJ,CAXJ,CADJ,CAFJ,CADJ,CAwBI,2BAAK,SAAS,CAAC,cAAf,EACI,2BAAK,SAAS,CAAC,KAAf,EACI,4BAAM,SAAS,CAAC,SAAhB,EACI,6BAAO,EAAE,CAAC,WAAV,CAAsB,IAAI,CAAC,QAA3B,CAAoC,KAAK,CAAE,KAAK5B,KAAL,CAAWkD,GAAX,CAAe,CAAf,CAA3C,EADJ,CAEI,2BAAK,SAAS,CAAC,oBAAf,EACI,8BAAQ,EAAE,CAAC,YAAX,CAAwB,SAAS,CAAC,iBAAlC,CAAoD,KAAK,CAAE,KAAKlD,KAAL,CAAWmD,iBAAX,CAA6B,CAA7B,CAA3D,CAA4F,QAAQ,CAAE,kBAACtC,CAAD,CAAO,CAAE,MAAI,CAACD,cAAL,CAAoBC,CAApB,CAAuB,MAAI,CAACR,KAAL,CAAWS,SAAX,CAAqBwC,KAArB,EAAvB,EAAsD,CAArK,EACI,8BAAQ,KAAK,CAAC,SAAd,gBADJ,CAEK,KAAK1B,WAAL,CAAiB,KAAKvB,KAAL,CAAWS,SAA5B,CAFL,CADJ,CAFJ,CAQI,2BAAK,SAAS,CAAC,qBAAf,EACI,6BAAO,EAAE,CAAC,mBAAV,CAA8B,IAAI,CAAC,MAAnC,CAA0C,SAAS,CAAC,UAApD,CAA+D,YAAY,CAAE,KAAKd,KAAL,CAAWoD,aAAX,CAAyB,CAAzB,CAA7E,CAA0G,QAAQ,CAAE,KAAKd,UAAzH,EADJ,CARJ,CAWI,2BAAK,SAAS,CAAC,oBAAf,EACI,8BAAQ,EAAE,CAAC,cAAX,CAA0B,SAAS,CAAC,iBAApC,CAAsD,KAAK,CAAE,KAAKtC,KAAL,CAAWqD,cAAX,CAA0B,CAA1B,CAA7D,CAA2F,QAAQ,CAAE,kBAACxC,CAAD,CAAO,CAAE,MAAI,CAACU,WAAL,CAAiBV,CAAjB,CAAoB,MAAI,CAACR,KAAL,CAAWmB,MAAX,CAAkB8B,KAAlB,EAApB,EAAgD,CAA9J,EACI,8BAAQ,KAAK,CAAC,EAAd,YADJ,CAEK,KAAK1B,WAAL,CAAiB,KAAKvB,KAAL,CAAWmB,MAA5B,CAFL,CADJ,CAXJ,CADJ,CADJ,CAxBJ,CA8CI,2BAAK,SAAS,CAAC,cAAf,EACI,2BAAK,SAAS,CAAC,KAAf,EACI,4BAAM,SAAS,CAAC,SAAhB,EACI,6BAAO,EAAE,CAAC,WAAV,CAAsB,IAAI,CAAC,QAA3B,CAAoC,KAAK,CAAE,KAAKxB,KAAL,CAAWkD,GAAX,CAAe,CAAf,CAA3C,EADJ,CAEI,2BAAK,SAAS,CAAC,oBAAf,EACI,8BAAQ,EAAE,CAAC,YAAX,CAAwB,SAAS,CAAC,iBAAlC,CAAoD,KAAK,CAAE,KAAKlD,KAAL,CAAWmD,iBAAX,CAA6B,CAA7B,CAA3D,EACI,8BAAQ,KAAK,CAAC,EAAd,gBADJ,CAEK,KAAKvB,WAAL,CAAiB,KAAKvB,KAAL,CAAWgB,mBAA5B,CAFL,CADJ,CAFJ,CAQI,2BAAK,SAAS,CAAC,qBAAf,EACI,6BAAO,EAAE,CAAC,mBAAV,CAA8B,IAAI,CAAC,MAAnC,CAA0C,SAAS,CAAC,UAApD,CAA+D,YAAY,CAAE,KAAKrB,KAAL,CAAWoD,aAAX,CAAyB,CAAzB,CAA7E,CAA0G,QAAQ,CAAE,KAAKd,UAAzH,EADJ,CARJ,CAYI,2BAAK,SAAS,CAAC,oBAAf,EACI,8BAAQ,EAAE,CAAC,cAAX,CAA0B,SAAS,CAAC,iBAApC,CAAsD,KAAK,CAAE,KAAKtC,KAAL,CAAWqD,cAAX,CAA0B,CAA1B,CAA7D,EACI,8BAAQ,KAAK,CAAC,SAAd,YADJ,CAEK,KAAKzB,WAAL,CAAiB,KAAKvB,KAAL,CAAWqB,gBAA5B,CAFL,CADJ,CAZJ,CADJ,CADJ,CA9CJ,CAqEI,2BAAK,SAAS,CAAC,aAAf,EACI,oBAAC,IAAD,EAAM,SAAS,CAAC,0BAAhB,CAA2C,OAAO,CAAE,KAAKzB,MAAzD,CAAiE,EAAE,CAAC,YAApE,YADJ,CAEI,oBAAC,IAAD,EAAM,SAAS,CAAC,0BAAhB,CAA2C,EAAE,CAAC,YAA9C,aAFJ,CAGI,oBAAC,IAAD,EAAM,SAAS,CAAC,0BAAhB,CAA2C,EAAE,CAAC,YAA9C,CAA2D,OAAO,CAAE,kBAAM,CAAE,MAAI,CAACgC,MAAL,GAAe,CAA3F,aAHJ,CArEJ,CA5BJ,CADJ,CADJ,CADJ,CA8GH,C,4BAxOwBvC,S,EA0O7B,GAAM6D,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,QAAD,CAAc,CAClC,MAAOA,CAAAA,QAAQ,CAACC,iBAAhB,CACH,CAFD,CAGA,cAAe5D,CAAAA,OAAO,CAAC0D,eAAD,CAAkBzD,gBAAlB,CAAP,CAA2CC,cAA3C,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport CKEditor from 'ckeditor4-react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport * as preguntasActions from '../../../../actions/preguntasActions';\r\n\r\nclass EditarPregunta extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            texto: this.props.location.texto,\r\n            enunciado: this.props.location.enunciado,\r\n            positions: ['a', 'b', 'c'],\r\n            positionsLastSelect: ['a', 'b', 'c'],\r\n            scores: ['0', '1', '2'],\r\n            scoresLastSelect: ['0', '1', '2']\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.onEditorTextoChange = this.onEditorTextoChange.bind(this);\r\n        this.onEditorEnunciadoChange = this.onEditorEnunciadoChange.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        this.props.traerRespById(this.props.location.id);\r\n    }\r\n    componentWillMount() {\r\n        this.props.clearAllValues();\r\n    }\r\n    onEditorTextoChange(evt) {\r\n        this.setState({\r\n            texto: evt.editor.getData()\r\n        });\r\n    }\r\n    onEditorEnunciadoChange(evt) {\r\n        this.setState({\r\n            enunciado: evt.editor.getData()\r\n        });\r\n    }\r\n    handleChange(changeEvent) {\r\n        this.setState({\r\n            data: changeEvent.target.value\r\n        });\r\n    }\r\n\r\n    editar = () => {\r\n\r\n        let data = {\r\n            \"id\": this.props.location.id,\r\n            \"texto\": this.state.texto,\r\n            \"modulo_id\": document.getElementById('modulos').value,\r\n            \"enunciado\": this.state.enunciado,\r\n            \"respuestas\": [\r\n                {\r\n                    \"id\": document.getElementById('id_resp_1').value,\r\n                    \"texto\": document.getElementById('texto_respuesta_1').value,\r\n                    \"posicion\": document.getElementById('pos_resp_1').value,\r\n                    \"puntaje\": document.getElementById('score_resp_1').value\r\n                },\r\n                {\r\n                    \"id\": document.getElementById('id_resp_2').value,\r\n                    \"texto\": document.getElementById('texto_respuesta_2').value,\r\n                    \"posicion\": document.getElementById('pos_resp_2').value,\r\n                    \"puntaje\": document.getElementById('score_resp_2').value\r\n                },\r\n                {\r\n                    \"id\": document.getElementById('id_resp_3').value,\r\n                    \"texto\": document.getElementById('texto_respuesta_3').value,\r\n                    \"posicion\": document.getElementById('pos_resp_3').value,\r\n                    \"puntaje\": document.getElementById('score_resp_3').value\r\n                }\r\n            ]\r\n        }\r\n        this.props.editarPregunta(data);\r\n    }\r\n\r\n    positionChange = (e, positions) => {\r\n        let postionsEnables = positions;\r\n        let pos = postionsEnables.indexOf(e.target.value);\r\n        postionsEnables.splice(pos, 1);\r\n        if (e.target.id == 'pos_resp_1') {\r\n            this.setState({\r\n                positions: postionsEnables\r\n            });\r\n        } else {\r\n            this.setState({\r\n                positionsLastSelect: postionsEnables\r\n            });\r\n        }\r\n        this.props.clearPositionsDefaults();\r\n    }\r\n\r\n    scoreChange = (e, scores) => {\r\n        let scoresEnables = scores;\r\n        let pos = scoresEnables.indexOf(e.target.value);\r\n        scoresEnables.splice(pos, 1);\r\n        if (e.target.id == 'score_resp_1') {\r\n            this.setState({\r\n                scores: scoresEnables\r\n            });\r\n        } else {\r\n            this.setState({\r\n                scoresLastSelect: scoresEnables\r\n            });\r\n        }\r\n        this.props.clearScoresDefaults();\r\n    }\r\n\r\n    showOptions = (options) => (\r\n        options.map((op, index) => (\r\n            <option key={index} value={op}>{op}</option>\r\n        ))\r\n    )\r\n\r\n    delete = () => {\r\n        this.props.eliminarPregunta(this.props.location.id);\r\n    }\r\n\r\n    showModulos = () => this.props.modulos.map((p, index) => (\r\n        <option key={index} value={p.id}>{p.texto}</option>\r\n    ))\r\n\r\n    textChange = (e) => {\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col l12\">\r\n                    <div className=\"card-panel\">\r\n                        <div className=\"card-title\"><h5>Editar pregunta</h5></div>\r\n                        <div className=\"card-content\">\r\n                            <div className=\"row\">\r\n                                <form className=\"col s12\">\r\n                                    <div class=\"row\">                                        \r\n                                         <p>Enunciado</p>\r\n                                        <CKEditor\r\n                                            data={this.state.enunciado}\r\n                                            onChange={this.onEditorEnunciadoChange} />\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <p>Texto de la pregunta</p>\r\n                                        <CKEditor\r\n                                            data={this.state.texto}\r\n                                            onChange={this.onEditorTextoChange} />\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"input-field col s6\">\r\n                                    <p>¿A qué temática/módulo pertenece?</p>\r\n                                    <select id=\"modulos\" className=\"browser-default\" defaultValue={this.props.location.modulo}>\r\n                                        {this.showModulos()}\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card-panel\">\r\n                            <div className=\"card-content\">\r\n                                <span className=\"card-title\"><h4>Respuestas</h4></span>\r\n                                <div className=\"row\">\r\n                                    <form className=\"col s12\">\r\n                                        <input id=\"id_resp_1\" type=\"hidden\" value={this.props.ids[0]}></input>\r\n                                        <div className=\"input-field col s1\">\r\n                                            <select id=\"pos_resp_1\" className=\"browser-default\" value={this.props.positionsDefaults[0]} onChange={(e) => { this.positionChange(e, ['a', 'b', 'c']) }}>\r\n                                                <option value=\"\">Posición</option>\r\n                                                {this.showOptions(['a', 'b', 'c'])}\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"input-field col s10\">\r\n                                            <input id=\"texto_respuesta_1\" type=\"text\" className=\"validate\" defaultValue={this.props.textsDefaults[0]} onChange={this.textChange} />\r\n                                        </div>\r\n                                        <div className=\"input-field col s1\">\r\n                                            <select id=\"score_resp_1\" className=\"browser-default\" value={this.props.scoresDefaults[0]} onChange={(e) => { this.scoreChange(e, ['0', '1', '2']) }}>\r\n                                                <option value=\"\" >Puntaje</option>\r\n                                                {this.showOptions(['0', '1', '2'])}\r\n                                            </select>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"card-content\">\r\n                                <div className=\"row\">\r\n                                    <form className=\"col s12\">\r\n                                        <input id=\"id_resp_2\" type=\"hidden\" value={this.props.ids[1]}></input>\r\n                                        <div className=\"input-field col s1\">\r\n                                            <select id='pos_resp_2' className=\"browser-default\" value={this.props.positionsDefaults[1]} onChange={(e) => { this.positionChange(e, this.state.positions.slice()) }}>\r\n                                                <option value=\"default\">Posición</option>\r\n                                                {this.showOptions(this.state.positions)}\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"input-field col s10\">\r\n                                            <input id=\"texto_respuesta_2\" type=\"text\" className=\"validate\" defaultValue={this.props.textsDefaults[1]} onChange={this.textChange} />\r\n                                        </div>\r\n                                        <div className=\"input-field col s1\">\r\n                                            <select id=\"score_resp_2\" className=\"browser-default\" value={this.props.scoresDefaults[1]} onChange={(e) => { this.scoreChange(e, this.state.scores.slice()) }}>\r\n                                                <option value=\"\">Puntaje</option>\r\n                                                {this.showOptions(this.state.scores)}\r\n                                            </select>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"card-content\">\r\n                                <div className=\"row\">\r\n                                    <form className=\"col s12\">\r\n                                        <input id=\"id_resp_3\" type=\"hidden\" value={this.props.ids[2]}></input>\r\n                                        <div className=\"input-field col s1\">\r\n                                            <select id='pos_resp_3' className=\"browser-default\" value={this.props.positionsDefaults[2]}>\r\n                                                <option value=\"\">Posición</option>\r\n                                                {this.showOptions(this.state.positionsLastSelect)}\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"input-field col s10\">\r\n                                            <input id=\"texto_respuesta_3\" type=\"text\" className=\"validate\" defaultValue={this.props.textsDefaults[2]} onChange={this.textChange} />\r\n\r\n                                        </div>\r\n                                        <div className=\"input-field col s1\">\r\n                                            <select id=\"score_resp_3\" className=\"browser-default\" value={this.props.scoresDefaults[2]}>\r\n                                                <option value=\"default\">Puntaje</option>\r\n                                                {this.showOptions(this.state.scoresLastSelect)}\r\n                                            </select>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"card-action\">\r\n                                <Link className=\"btn btn-primary btn_opts\" onClick={this.editar} to='/preguntas'>Guardar</Link>\r\n                                <Link className=\"btn btn-primary btn_opts\" to='/preguntas'>Cancelar</Link>\r\n                                <Link className=\"btn btn-primary btn_opts\" to='/preguntas' onClick={() => { this.delete() }}>Eliminar</Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\nconst mapToStateProps = (reducers) => {\r\n    return reducers.preguntasReducers;\r\n}\r\nexport default connect(mapToStateProps, preguntasActions)(EditarPregunta);"]},"metadata":{},"sourceType":"module"}
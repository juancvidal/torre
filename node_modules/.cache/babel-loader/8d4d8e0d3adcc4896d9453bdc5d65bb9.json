{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import axios from'axios';import{URL_DEFAULT}from'../urls/urls';var token=window.localStorage.getItem('token');var url=URL_DEFAULT+'tarjetas';var urlSubtemas=URL_DEFAULT+'subtemas';var instance=axios.create({baseURL:url,headers:{'Authorization':'bearer '+token}});export var traerTarjetas=function traerTarjetas(){return function _callee(dispacth){var respuesta,nroTarjetas;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispacth({type:'cargando'});_context.next=3;return _regeneratorRuntime.awrap(instance.get());case 3:respuesta=_context.sent;nroTarjetas=respuesta.data.tarjetas.length;dispacth({type:'traer_tarjetas',payload:respuesta.data.tarjetas});dispacth({type:'set_nro_tarjetas',payload:nroTarjetas});case 7:case\"end\":return _context.stop();}}});};};export var traerSubtemas=function traerSubtemas(){return function _callee2(dispacth){var instance,respuesta;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:instance=axios.create({baseURL:urlSubtemas,headers:{'Authorization':'bearer '+token}});_context2.next=3;return _regeneratorRuntime.awrap(instance.get());case 3:respuesta=_context2.sent;dispacth({type:'traer_subtemas',payload:respuesta.data.subtemas});case 5:case\"end\":return _context2.stop();}}});};};export var crearTarjeta=function crearTarjeta(tarjeta,tarjetas){return function _callee3(dispacth){var formData,r;return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:formData=new FormData();formData.append('file',tarjeta.file);formData.append('texto',tarjeta.texto);formData.append(\"titulo\",tarjeta.titulo);formData.append(\"subtema_id\",tarjeta.subtema_id);_context3.next=7;return _regeneratorRuntime.awrap(instance.post(url,formData));case 7:r=_context3.sent;tarjetas.push(r.data.tarjeta);dispacth({type:'crear_tarjeta',payload:tarjetas});case 10:case\"end\":return _context3.stop();}}});};};export var editarTarjeta=function editarTarjeta(data){return function _callee4(dispacth){var formData,respuesta;return _regeneratorRuntime.async(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:formData=new FormData();formData.append('id',data.id);formData.append('file',data.file);formData.append('texto',data.texto);formData.append(\"titulo\",data.titulo);formData.append(\"subtema_id\",data.subtema_id);formData.append(\"prioridad\",data.prioridad);_context4.next=9;return _regeneratorRuntime.awrap(instance.post(url+'/update',formData));case 9:_context4.next=11;return _regeneratorRuntime.awrap(instance.get(url));case 11:respuesta=_context4.sent;dispacth({type:'editar_tarjeta',payload:respuesta.data.tarjetas});case 13:case\"end\":return _context4.stop();}}});};};export var eliminarTarjeta=function eliminarTarjeta(id){return function _callee5(dispacth){var respuesta;return _regeneratorRuntime.async(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _regeneratorRuntime.awrap(instance.delete(url,{params:{\"id\":id}}));case 2:_context5.next=4;return _regeneratorRuntime.awrap(instance.get(url));case 4:respuesta=_context5.sent;dispacth({type:'eliminar_tarjeta',payload:respuesta.data.tarjetas});case 6:case\"end\":return _context5.stop();}}});};};export var setFile=function setFile(file){return function _callee6(dispacth){return _regeneratorRuntime.async(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:console.log('setFile');dispacth({type:'set_file',payload:file});case 2:case\"end\":return _context6.stop();}}});};};export var setType=function setType(type){return function _callee7(dispacth){return _regeneratorRuntime.async(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:dispacth({type:'set_type',payload:type});case 1:case\"end\":return _context7.stop();}}});};};","map":{"version":3,"sources":["C:/wamp64/www/whitelabel_fe/src/actions/tarjetasActions.js"],"names":["axios","URL_DEFAULT","token","window","localStorage","getItem","url","urlSubtemas","instance","create","baseURL","headers","traerTarjetas","dispacth","type","get","respuesta","nroTarjetas","data","tarjetas","length","payload","traerSubtemas","subtemas","crearTarjeta","tarjeta","formData","FormData","append","file","texto","titulo","subtema_id","post","r","push","editarTarjeta","id","prioridad","eliminarTarjeta","delete","params","setFile","console","log","setType"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { URL_DEFAULT } from '../urls/urls';\r\n\r\nconst token = window.localStorage.getItem('token');\r\nconst url = URL_DEFAULT + 'tarjetas';\r\nconst urlSubtemas = URL_DEFAULT + 'subtemas';\r\nconst instance = axios.create({\r\n    baseURL: url,        \r\n    headers: { 'Authorization': 'bearer ' + token }\r\n});\r\n\r\nexport const traerTarjetas = () => async (dispacth) => {       \r\n    dispacth({\r\n        type: 'cargando'        \r\n    })\r\n    const respuesta = await instance.get();    \r\n    let nroTarjetas = respuesta.data.tarjetas.length;\r\n    dispacth({\r\n        type: 'traer_tarjetas',\r\n        payload: respuesta.data.tarjetas\r\n    })\r\n    dispacth({\r\n        type: 'set_nro_tarjetas',\r\n        payload: nroTarjetas\r\n    })\r\n}\r\n\r\nexport const traerSubtemas = () => async (dispacth) => {       \r\n    const instance = axios.create({\r\n        baseURL: urlSubtemas,\r\n        headers: { 'Authorization': 'bearer ' + token }\r\n    });\r\n    const respuesta = await instance.get();    \r\n    dispacth({\r\n        type: 'traer_subtemas',\r\n        payload: respuesta.data.subtemas\r\n    })\r\n}\r\n\r\nexport const crearTarjeta = (tarjeta, tarjetas) => async (dispacth) => {\r\n    const formData = new FormData();    \r\n    formData.append('file', tarjeta.file)    \r\n    formData.append('texto', tarjeta.texto)\r\n    formData.append(\"titulo\", tarjeta.titulo)\r\n    formData.append(\"subtema_id\", tarjeta.subtema_id)\r\n    const r = await instance.post(url, formData);      \r\n    tarjetas.push(r.data.tarjeta);    \r\n    dispacth({\r\n        type: 'crear_tarjeta',\r\n        payload: tarjetas\r\n    })\r\n}\r\n\r\nexport const editarTarjeta = (data) => async (dispacth) => {\r\n    const formData = new FormData();\r\n    formData.append('id', data.id)\r\n    formData.append('file', data.file)    \r\n    formData.append('texto', data.texto)\r\n    formData.append(\"titulo\", data.titulo)\r\n    formData.append(\"subtema_id\", data.subtema_id)\r\n    formData.append(\"prioridad\", data.prioridad)\r\n    await instance.post(url + '/update', formData);\r\n    const respuesta = await instance.get(url);   \r\n    \r\n    dispacth({\r\n        type: 'editar_tarjeta',\r\n        payload: respuesta.data.tarjetas\r\n    })\r\n}\r\n\r\nexport const eliminarTarjeta = (id) => async (dispacth) => {\r\n    \r\n    await instance.delete(url, { params: {\"id\": id }} );\r\n    \r\n    const respuesta = await instance.get(url);  \r\n    dispacth({\r\n        type: 'eliminar_tarjeta',\r\n        payload: respuesta.data.tarjetas\r\n    })\r\n}\r\n\r\nexport const setFile = (file) => async (dispacth) => {\r\n    console.log('setFile');\r\n    dispacth({\r\n        type: 'set_file',\r\n        payload: file\r\n    })\r\n}\r\n\r\nexport const setType = (type) => async (dispacth) => {\r\n    \r\n    dispacth({\r\n        type: 'set_type',\r\n        payload: type\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}
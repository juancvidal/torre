{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import axios from'axios';import{URL_DEFAULT}from'../urls/urls';var token=window.localStorage.getItem('token');var url=URL_DEFAULT+'modulos';var instance=axios.create({baseURL:url,headers:{'Authorization':'bearer '+token}});export var traerModulos=function traerModulos(){return function _callee(dispacth){var respuesta,nroModulos;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispacth({type:'cargando'});_context.next=3;return _regeneratorRuntime.awrap(instance.get());case 3:respuesta=_context.sent;nroModulos=respuesta.data.modulos.length;dispacth({type:'traer_modulos',payload:respuesta.data.modulos});dispacth({type:'set_nro_modulos',payload:nroModulos});case 7:case\"end\":return _context.stop();}}});};};export var crearModulo=function crearModulo(modulo,modulos){return function _callee2(dispacth){var r;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(instance.post(url,modulo));case 2:r=_context2.sent;modulos.push(r.data.modulo);dispacth({type:'crear_modulo',payload:modulos});case 5:case\"end\":return _context2.stop();}}});};};export var editarModulo=function editarModulo(data){return function _callee3(dispacth){var respuesta;return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regeneratorRuntime.awrap(instance.put(url,data));case 2:_context3.next=4;return _regeneratorRuntime.awrap(instance.get(url));case 4:respuesta=_context3.sent;dispacth({type:'editar_modulo',payload:respuesta.data.modulos});case 6:case\"end\":return _context3.stop();}}});};};export var eliminarModulo=function eliminarModulo(id){return function _callee4(dispacth){var respuesta;return _regeneratorRuntime.async(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _regeneratorRuntime.awrap(instance.delete(url,{params:{\"id\":id}}));case 2:_context4.next=4;return _regeneratorRuntime.awrap(instance.get(url));case 4:respuesta=_context4.sent;dispacth({type:'eliminar_modulo',payload:respuesta.data.modulos});case 6:case\"end\":return _context4.stop();}}});};};","map":{"version":3,"sources":["C:/wamp64/www/whitelabel_fe/src/actions/modulosActions.js"],"names":["axios","URL_DEFAULT","token","window","localStorage","getItem","url","instance","create","baseURL","headers","traerModulos","dispacth","type","get","respuesta","nroModulos","data","modulos","length","payload","crearModulo","modulo","post","r","push","editarModulo","put","eliminarModulo","id","delete","params"],"mappings":"iJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,cAA5B,CAEA,GAAMC,CAAAA,KAAK,CAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAd,CACA,GAAMC,CAAAA,GAAG,CAAGL,WAAW,CAAG,SAA1B,CACA,GAAMM,CAAAA,QAAQ,CAAGP,KAAK,CAACQ,MAAN,CAAa,CAC1BC,OAAO,CAAEH,GADiB,CAE1BI,OAAO,CAAE,CAAE,gBAAiB,UAAYR,KAA/B,CAFiB,CAAb,CAAjB,CAKA,MAAO,IAAMS,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,SAAM,kBAAOC,QAAP,4IAC9BA,QAAQ,CAAC,CACLC,IAAI,CAAE,UADD,CAAD,CAAR,CAD8B,iDAINN,QAAQ,CAACO,GAAT,EAJM,SAIxBC,SAJwB,eAK1BC,UAL0B,CAKbD,SAAS,CAACE,IAAV,CAAeC,OAAf,CAAuBC,MALV,CAM9BP,QAAQ,CAAC,CACLC,IAAI,CAAE,eADD,CAELO,OAAO,CAAEL,SAAS,CAACE,IAAV,CAAeC,OAFnB,CAAD,CAAR,CAIAN,QAAQ,CAAC,CACLC,IAAI,CAAE,iBADD,CAELO,OAAO,CAAEJ,UAFJ,CAAD,CAAR,CAV8B,8CAAN,EAArB,CAgBP,MAAO,IAAMK,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,MAAD,CAASJ,OAAT,QAAqB,mBAAON,QAAP,+KAE5BL,QAAQ,CAACgB,IAAT,CAAcjB,GAAd,CAAmBgB,MAAnB,CAF4B,SAEtCE,CAFsC,gBAG5CN,OAAO,CAACO,IAAR,CAAaD,CAAC,CAACP,IAAF,CAAOK,MAApB,EACAV,QAAQ,CAAC,CACLC,IAAI,CAAE,cADD,CAELO,OAAO,CAAEF,OAFJ,CAAD,CAAR,CAJ4C,+CAArB,EAApB,CAUP,MAAO,IAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACT,IAAD,QAAU,mBAAOL,QAAP,uLAE5BL,QAAQ,CAACoB,GAAT,CAAarB,GAAb,CAAkBW,IAAlB,CAF4B,2DAGVV,QAAQ,CAACO,GAAT,CAAaR,GAAb,CAHU,SAG5BS,SAH4B,gBAKlCH,QAAQ,CAAC,CACLC,IAAI,CAAE,eADD,CAELO,OAAO,CAAEL,SAAS,CAACE,IAAV,CAAeC,OAFnB,CAAD,CAAR,CALkC,+CAAV,EAArB,CAWP,MAAO,IAAMU,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,EAAD,QAAQ,mBAAOjB,QAAP,uLAE5BL,QAAQ,CAACuB,MAAT,CAAgBxB,GAAhB,CAAqB,CAAEyB,MAAM,CAAE,CAAC,KAAMF,EAAP,CAAV,CAArB,CAF4B,2DAIVtB,QAAQ,CAACO,GAAT,CAAaR,GAAb,CAJU,SAI5BS,SAJ4B,gBAKlCH,QAAQ,CAAC,CACLC,IAAI,CAAE,iBADD,CAELO,OAAO,CAAEL,SAAS,CAACE,IAAV,CAAeC,OAFnB,CAAD,CAAR,CALkC,+CAAR,EAAvB","sourcesContent":["import axios from 'axios';\r\nimport { URL_DEFAULT } from '../urls/urls';\r\n\r\nconst token = window.localStorage.getItem('token');\r\nconst url = URL_DEFAULT + 'modulos';\r\nconst instance = axios.create({\r\n    baseURL: url,        \r\n    headers: { 'Authorization': 'bearer ' + token }\r\n});\r\n\r\nexport const traerModulos = () => async (dispacth) => {       \r\n    dispacth({\r\n        type: 'cargando'        \r\n    })\r\n    const respuesta = await instance.get();    \r\n    let nroModulos = respuesta.data.modulos.length;    \r\n    dispacth({\r\n        type: 'traer_modulos',\r\n        payload: respuesta.data.modulos\r\n    })\r\n    dispacth({\r\n        type: 'set_nro_modulos',\r\n        payload: nroModulos\r\n    })\r\n}\r\n\r\nexport const crearModulo = (modulo, modulos) => async (dispacth) => {\r\n        \r\n    const r = await instance.post(url, modulo);      \r\n    modulos.push(r.data.modulo);    \r\n    dispacth({\r\n        type: 'crear_modulo',\r\n        payload: modulos\r\n    })\r\n}\r\n\r\nexport const editarModulo = (data) => async (dispacth) => {\r\n      \r\n    await instance.put(url, data);\r\n    const respuesta = await instance.get(url);   \r\n    \r\n    dispacth({\r\n        type: 'editar_modulo',\r\n        payload: respuesta.data.modulos\r\n    })\r\n}\r\n\r\nexport const eliminarModulo = (id) => async (dispacth) => {\r\n    \r\n    await instance.delete(url, { params: {\"id\": id }} );\r\n    \r\n    const respuesta = await instance.get(url);  \r\n    dispacth({\r\n        type: 'eliminar_modulo',\r\n        payload: respuesta.data.modulos\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}
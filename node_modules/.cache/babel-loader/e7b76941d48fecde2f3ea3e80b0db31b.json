{"ast":null,"code":"import _classCallCheck from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./Crear.css';import{Link}from'react-router-dom';import{connect}from'react-redux';import*as tarjetasActions from'../../../../actions/tarjetasActions';var CrearTarjeta=/*#__PURE__*/function(_Component){_inherits(CrearTarjeta,_Component);function CrearTarjeta(){var _getPrototypeOf2;var _this;_classCallCheck(this,CrearTarjeta);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(CrearTarjeta)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.crear=function(){var data={\"texto\":document.getElementById('texto_tarjeta').value,\"titulo\":document.getElementById('titulo_tarjeta').value,\"file\":_this.props.file,\"type\":_this.props.type,\"subtema_id\":document.getElementById('subtemas').value};_this.props.crearTarjeta(data,_this.props.tarjetas);};_this.handleChange=function(e){var file=e.target.files[0];var output=document.getElementById('output');output.src=URL.createObjectURL(e.target.files[0]);window.localStorage.setItem('imgData',output.src);window.localStorage.setItem('size',file.size);_this.props.setFile(file);_this.props.setType(file.type);};_this.showSubtemas=function(){return _this.props.subtemas.map(function(p,index){return React.createElement(\"option\",{key:index,value:p.id},p.texto);});};return _this;}_createClass(CrearTarjeta,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col l12\"},React.createElement(\"div\",{className:\"card-panel\"},React.createElement(\"div\",{className:\"card-title\"},React.createElement(\"h5\",null,\"Crear tarjeta de conocimiento\")),React.createElement(\"div\",{className:\"card-content\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"form\",{className:\"col s12\"},React.createElement(\"div\",{className:\"input-field col s12\"},React.createElement(\"p\",null,\"Texto\"),React.createElement(\"input\",{id:\"texto_tarjeta\",type:\"text\",className:\"validate\"})),React.createElement(\"div\",{className:\"input-field col s12\"},React.createElement(\"p\",null,\"T\\xEDtulo\"),React.createElement(\"input\",{id:\"titulo_tarjeta\",type:\"text\",className:\"validate\"})),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"input-field col s6\"},React.createElement(\"p\",null,\"Imagen\"),React.createElement(\"input\",{id:\"url_recurso\",onChange:function onChange(e){return _this2.handleChange(e);},type:\"file\",className:\"validate\"})),React.createElement(\"div\",{className:\"card\"},React.createElement(\"div\",{className:\"card-image\"},React.createElement(\"img\",{id:\"output\",className:\"col l6\",alt:\"imagen\"})))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"input-field col s6\"},React.createElement(\"p\",null,\"\\xBFA qu\\xE9 subtema pertenece?\"),React.createElement(\"select\",{id:\"subtemas\",className:\"browser-default\"},this.showSubtemas())))))),React.createElement(\"div\",{className:\"card-action\"},React.createElement(Link,{className:\"btn btn-primary btn_opts\",onClick:this.crear,to:\"/tarjetas\"},\"Guardar\"),React.createElement(Link,{className:\"btn btn-primary btn_opts\",to:\"/tarjetas\"},\"Cancelar\")))));}}]);return CrearTarjeta;}(Component);var mapToStateProps=function mapToStateProps(reducers){return reducers.tarjetasReducers;};export default connect(mapToStateProps,tarjetasActions)(CrearTarjeta);","map":{"version":3,"sources":["C:/wamp64/www/whitelabel_fe/src/components/dashboard/tarjetas/crear/CrearTarjeta.js"],"names":["React","Component","Link","connect","tarjetasActions","CrearTarjeta","crear","data","document","getElementById","value","props","file","type","crearTarjeta","tarjetas","handleChange","e","target","files","output","src","URL","createObjectURL","window","localStorage","setItem","size","setFile","setType","showSubtemas","subtemas","map","p","index","id","texto","mapToStateProps","reducers","tarjetasReducers"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './Crear.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport * as tarjetasActions from '../../../../actions/tarjetasActions';\r\n\r\nclass CrearTarjeta extends Component {\r\n\r\n\r\n\r\n    crear = () => {\r\n\r\n        let data = {            \r\n            \"texto\": document.getElementById('texto_tarjeta').value,\r\n            \"titulo\": document.getElementById('titulo_tarjeta').value,\r\n            \"file\": this.props.file,\r\n            \"type\": this.props.type,\r\n            \"subtema_id\": document.getElementById('subtemas').value\r\n        }\r\n        this.props.crearTarjeta(data, this.props.tarjetas);\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n\r\n    }\r\n    handleChange = (e) => {\r\n        var file = e.target.files[0];\r\n        var output = document.getElementById('output');\r\n        output.src = URL.createObjectURL(e.target.files[0]);\r\n        window.localStorage.setItem('imgData', output.src);\r\n        window.localStorage.setItem('size', file.size);\r\n        this.props.setFile(file);\r\n        this.props.setType(file.type);\r\n    }\r\n    showSubtemas = () => this.props.subtemas.map((p, index) => (\r\n        <option key={index} value={p.id}>{p.texto}</option>\r\n    ))\r\n    render() {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col l12\">\r\n                    <div className=\"card-panel\">\r\n                        <div className=\"card-title\"><h5>Crear tarjeta de conocimiento</h5></div>\r\n                        <div className=\"card-content\">\r\n                            <div className=\"row\">\r\n                                <form className=\"col s12\">\r\n                                    <div className=\"input-field col s12\">\r\n                                        <p>Texto</p>\r\n                                        <input id=\"texto_tarjeta\" type=\"text\" className=\"validate\" />\r\n                                    </div>\r\n                                    <div className=\"input-field col s12\">\r\n                                        <p>Título</p>\r\n                                        <input id=\"titulo_tarjeta\" type=\"text\" className=\"validate\" />\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"input-field col s6\">\r\n                                            <p>Imagen</p>\r\n                                            <input id=\"url_recurso\" onChange={e => this.handleChange(e)} type=\"file\" className=\"validate\" />\r\n                                        </div>\r\n                                        <div className=\"card\">\r\n                                            <div className=\"card-image\">\r\n                                                <img id=\"output\" className=\"col l6\" alt=\"imagen\" />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"input-field col s6\">\r\n                                            <p>¿A qué subtema pertenece?</p>\r\n                                            <select id=\"subtemas\" className=\"browser-default\">\r\n                                                {this.showSubtemas()}\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card-action\">\r\n                            <Link className=\"btn btn-primary btn_opts\" onClick={this.crear} to='/tarjetas'>Guardar</Link>\r\n                            <Link className=\"btn btn-primary btn_opts\" to='/tarjetas'>Cancelar</Link>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapToStateProps = (reducers) => {\r\n    return reducers.tarjetasReducers;\r\n}\r\nexport default connect(mapToStateProps, tarjetasActions)(CrearTarjeta);"]},"metadata":{},"sourceType":"module"}
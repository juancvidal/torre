{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import axios from'axios';import{URL_DEFAULT}from'../urls/urls';var token=window.localStorage.getItem('token');var url=URL_DEFAULT+'questions';var urlModulos=URL_DEFAULT+'modulos';var urlRespuestas=URL_DEFAULT+'answers/getById';var instance=axios.create({baseURL:url,headers:{'Authorization':'bearer '+token}});export var traerPreguntas=function traerPreguntas(){return function _callee(dispacth){var respuesta;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispacth({type:'cargando'});_context.next=3;return _regeneratorRuntime.awrap(instance.get());case 3:respuesta=_context.sent;console.log(respuesta.data.preguntas);dispacth({type:'traer_preguntas',payload:respuesta.data.preguntas});case 6:case\"end\":return _context.stop();}}});};};export var traerModulos=function traerModulos(){return function _callee2(dispacth){var instance,respuesta;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:instance=axios.create({baseURL:urlModulos,headers:{'Authorization':'bearer '+token}});_context2.next=3;return _regeneratorRuntime.awrap(instance.get());case 3:respuesta=_context2.sent;dispacth({type:'traer_modulos',payload:respuesta.data.modulos});case 5:case\"end\":return _context2.stop();}}});};};export var crearPregunta=function crearPregunta(data,preguntas){return function _callee3(dispacth){var respuesta;return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regeneratorRuntime.awrap(instance.post(url,data));case 2:respuesta=_context3.sent;preguntas.push(respuesta.data.pregunta);dispacth({type:'crear_pregunta',payload:preguntas});case 5:case\"end\":return _context3.stop();}}});};};export var editarPregunta=function editarPregunta(data){return function _callee4(dispacth){var respuesta;return _regeneratorRuntime.async(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _regeneratorRuntime.awrap(instance.put(url,data));case 2:_context4.next=4;return _regeneratorRuntime.awrap(instance.get());case 4:respuesta=_context4.sent;dispacth({type:'editar_pregunta',payload:respuesta.data.preguntas});dispacth({type:'clear_all_values',payload:[]});case 7:case\"end\":return _context4.stop();}}});};};export var eliminarPregunta=function eliminarPregunta(id){return function _callee5(dispacth){var respuesta;return _regeneratorRuntime.async(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _regeneratorRuntime.awrap(instance.delete(url,{params:{\"id\":id}}));case 2:_context5.next=4;return _regeneratorRuntime.awrap(instance.get());case 4:respuesta=_context5.sent;dispacth({type:'eliminar_pregunta',payload:respuesta.data.preguntas});case 6:case\"end\":return _context5.stop();}}});};};export var traerRespById=function traerRespById(id){return function _callee6(dispacth){var instance,respuesta,positions,texts,scores,ids,respuestas;return _regeneratorRuntime.async(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:instance=axios.create({baseURL:urlRespuestas,headers:{'Authorization':'bearer '+token}});_context6.next=3;return _regeneratorRuntime.awrap(instance.get(urlRespuestas,{params:{'id':id}}));case 3:respuesta=_context6.sent;positions=[];texts=[];scores=[];ids=[];respuestas=respuesta.data.respuestas;respuestas.map(function(r){ids.push(r.id);positions.push(r.posicion);texts.push(r.texto);scores.push(r.puntaje);});dispacth({type:'clear_all_values',payload:[]});dispacth({type:'traer_respuestas',payload:respuesta.data.respuestas});dispacth({type:'set_positions',payload:positions});dispacth({type:'set_texts',payload:texts});dispacth({type:'set_scores',payload:scores});dispacth({type:'set_ids',payload:ids});case 16:case\"end\":return _context6.stop();}}});};};export var clearPositionsDefaults=function clearPositionsDefaults(){return function _callee7(dispacth){return _regeneratorRuntime.async(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:dispacth({type:'clear_position_defaults',payload:[]});case 1:case\"end\":return _context7.stop();}}});};};export var clearScoresDefaults=function clearScoresDefaults(){return function _callee8(dispacth){return _regeneratorRuntime.async(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:dispacth({type:'clear_scores_defaults',payload:[]});case 1:case\"end\":return _context8.stop();}}});};};export var clearAllValues=function clearAllValues(){return function _callee9(dispacth){return _regeneratorRuntime.async(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:dispacth({type:'clear_all_values',payload:[]});case 1:case\"end\":return _context9.stop();}}});};};export var changeTextValues=function changeTextValues(index,value,texts){return function _callee10(dispacth){var textos;return _regeneratorRuntime.async(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:textos=texts.slice();textos[index]=value;dispacth({type:'change_texts_values',payload:textos});case 3:case\"end\":return _context10.stop();}}});};};","map":{"version":3,"sources":["C:/wamp64/www/whitelabel_fe/src/actions/preguntasActions.js"],"names":["axios","URL_DEFAULT","token","window","localStorage","getItem","url","urlModulos","urlRespuestas","instance","create","baseURL","headers","traerPreguntas","dispacth","type","get","respuesta","console","log","data","preguntas","payload","traerModulos","modulos","crearPregunta","post","push","pregunta","editarPregunta","put","eliminarPregunta","id","delete","params","traerRespById","positions","texts","scores","ids","respuestas","map","r","posicion","texto","puntaje","clearPositionsDefaults","clearScoresDefaults","clearAllValues","changeTextValues","index","value","textos","slice"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { URL_DEFAULT } from '../urls/urls';\r\nconst token = window.localStorage.getItem('token');\r\nconst url = URL_DEFAULT + 'questions';\r\nconst urlModulos = URL_DEFAULT + 'modulos';\r\nconst urlRespuestas = URL_DEFAULT + 'answers/getById';\r\nconst instance = axios.create({\r\n    baseURL: url,\r\n    headers: { 'Authorization': 'bearer ' + token }\r\n});\r\nexport const traerPreguntas = () => async (dispacth) => {       \r\n    dispacth({\r\n        type: 'cargando',        \r\n    })\r\n    const respuesta = await instance.get();\r\n    console.log(respuesta.data.preguntas)\r\n    dispacth({\r\n        type: 'traer_preguntas',\r\n        payload: respuesta.data.preguntas\r\n    })\r\n}\r\n\r\nexport const traerModulos = () => async (dispacth) => {       \r\n    const instance = axios.create({\r\n        baseURL: urlModulos,\r\n        headers: { 'Authorization': 'bearer ' + token }\r\n    });\r\n    const respuesta = await instance.get();    \r\n    dispacth({\r\n        type: 'traer_modulos',\r\n        payload: respuesta.data.modulos\r\n    })\r\n}\r\n\r\nexport const crearPregunta = (data, preguntas) => async (dispacth) => {\r\n    \r\n   \r\n    const respuesta = await instance.post(url, data);   \r\n    preguntas.push(respuesta.data.pregunta);\r\n    dispacth({\r\n        type: 'crear_pregunta',\r\n        payload: preguntas\r\n    })\r\n}\r\n\r\nexport const editarPregunta = (data) => async (dispacth) => {\r\n    \r\n\r\n    await instance.put(url, data);\r\n    const respuesta = await instance.get();     \r\n    dispacth({\r\n        type: 'editar_pregunta',\r\n        payload: respuesta.data.preguntas\r\n    })\r\n    dispacth({\r\n        type: 'clear_all_values',\r\n        payload: []\r\n    })\r\n}\r\n\r\nexport const eliminarPregunta = (id) => async (dispacth) => {\r\n   \r\n   \r\n    await instance.delete(url, { params: {\"id\": id }} );\r\n    \r\n    const respuesta = await instance.get();  \r\n    \r\n    dispacth({\r\n        type: 'eliminar_pregunta',\r\n        payload: respuesta.data.preguntas\r\n    })\r\n}\r\n\r\nexport const traerRespById = (id) => async (dispacth) => {       \r\n    const instance = axios.create({\r\n        baseURL: urlRespuestas,\r\n        headers: { 'Authorization': 'bearer ' + token }        \r\n    });\r\n    const respuesta = await instance.get(urlRespuestas, { params: {'id': id} });\r\n    let positions = [];\r\n    let texts = [];\r\n    let scores = [];\r\n    let ids = [];\r\n    let respuestas = respuesta.data.respuestas;\r\n    respuestas.map((r) => {\r\n        ids.push(r.id);\r\n        positions.push(r.posicion);\r\n        texts.push(r.texto);\r\n        scores.push(r.puntaje);\r\n    })\r\n    dispacth({\r\n        type: 'clear_all_values',\r\n        payload: []\r\n    })\r\n    dispacth({\r\n        type: 'traer_respuestas',\r\n        payload: respuesta.data.respuestas\r\n    })\r\n    dispacth({\r\n        type: 'set_positions',\r\n        payload: positions\r\n    })\r\n    dispacth({\r\n        type: 'set_texts',\r\n        payload: texts\r\n    })\r\n    dispacth({\r\n        type: 'set_scores',\r\n        payload: scores\r\n    })\r\n    dispacth({\r\n        type: 'set_ids',\r\n        payload: ids\r\n    })\r\n\r\n}\r\n\r\nexport const clearPositionsDefaults = () => async (dispacth) => {       \r\n    \r\n    dispacth({\r\n        type: 'clear_position_defaults',\r\n        payload: []\r\n    })\r\n   \r\n}\r\n\r\nexport const clearScoresDefaults = () => async (dispacth) => {       \r\n    \r\n    dispacth({\r\n        type: 'clear_scores_defaults',\r\n        payload: []\r\n    })\r\n   \r\n}\r\n\r\nexport const clearAllValues = () => async (dispacth) => {       \r\n    \r\n    dispacth({\r\n        type: 'clear_all_values',\r\n        payload: []\r\n    })\r\n   \r\n}\r\n\r\nexport const changeTextValues = (index, value, texts) => async (dispacth) => {       \r\n    let textos = texts.slice();\r\n    textos[index] = value;\r\n    dispacth({\r\n        type: 'change_texts_values',\r\n        payload: textos\r\n    })\r\n   \r\n}"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import CKEditor from'ckeditor4-react';import{Link}from'react-router-dom';import{connect}from'react-redux';import*as preguntasActions from'../../../../actions/preguntasActions';var EditarPregunta=/*#__PURE__*/function(_Component){_inherits(EditarPregunta,_Component);function EditarPregunta(props){var _this;_classCallCheck(this,EditarPregunta);_this=_possibleConstructorReturn(this,_getPrototypeOf(EditarPregunta).call(this,props));_this.editar=function(){var data={\"id\":_this.props.location.id,\"texto\":_this.state.data,\"modulo_id\":document.getElementById('modulos').value,\"enunciado\":document.getElementById('enunciado').value,\"respuestas\":[{\"id\":document.getElementById('id_resp_1').value,\"texto\":document.getElementById('texto_respuesta_1').value,\"posicion\":document.getElementById('pos_resp_1').value,\"puntaje\":document.getElementById('score_resp_1').value},{\"id\":document.getElementById('id_resp_2').value,\"texto\":document.getElementById('texto_respuesta_2').value,\"posicion\":document.getElementById('pos_resp_2').value,\"puntaje\":document.getElementById('score_resp_2').value},{\"id\":document.getElementById('id_resp_3').value,\"texto\":document.getElementById('texto_respuesta_3').value,\"posicion\":document.getElementById('pos_resp_3').value,\"puntaje\":document.getElementById('score_resp_3').value}]};_this.props.editarPregunta(data);};_this.positionChange=function(e,positions){var postionsEnables=positions;var pos=postionsEnables.indexOf(e.target.value);postionsEnables.splice(pos,1);if(e.target.id=='pos_resp_1'){_this.setState({positions:postionsEnables});}else{_this.setState({positionsLastSelect:postionsEnables});}_this.props.clearPositionsDefaults();};_this.scoreChange=function(e,scores){var scoresEnables=scores;var pos=scoresEnables.indexOf(e.target.value);scoresEnables.splice(pos,1);if(e.target.id=='score_resp_1'){_this.setState({scores:scoresEnables});}else{_this.setState({scoresLastSelect:scoresEnables});}_this.props.clearScoresDefaults();};_this.showOptions=function(options){return options.map(function(op,index){return React.createElement(\"option\",{key:index,value:op},op);});};_this.delete=function(){_this.props.eliminarPregunta(_this.props.location.id);};_this.showModulos=function(){return _this.props.modulos.map(function(p,index){return React.createElement(\"option\",{key:index,value:p.id},p.texto);});};_this.textChange=function(e){};_this.state={data:_this.props.location.texto,positions:['a','b','c'],positionsLastSelect:['a','b','c'],scores:['0','1','2'],scoresLastSelect:['0','1','2']};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.onEditorChange=_this.onEditorChange.bind(_assertThisInitialized(_this));return _this;}_createClass(EditarPregunta,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.traerRespById(this.props.location.id);}},{key:\"componentWillMount\",value:function componentWillMount(){this.props.clearAllValues();}},{key:\"onEditorChange\",value:function onEditorChange(evt){this.setState({data:evt.editor.getData()});}},{key:\"handleChange\",value:function handleChange(changeEvent){this.setState({data:changeEvent.target.value});}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col l12\"},React.createElement(\"div\",{className:\"card-panel\"},React.createElement(\"div\",{className:\"card-title\"},React.createElement(\"h5\",null,\"Editar pregunta\")),React.createElement(\"div\",{className:\"card-content\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"form\",{className:\"col s12\"},React.createElement(\"div\",{class:\"row\"},React.createElement(\"div\",{class:\"input-field col s12\"},React.createElement(\"p\",null,\"Enunciado\"),React.createElement(\"textarea\",{id:\"enunciado\",class:\"materialize-textarea\",defaultValue:this.props.location.enunciado}))),React.createElement(\"label\",null,\"Texto de la pregunta\"),React.createElement(CKEditor,{data:this.state.data,onChange:this.onEditorChange}))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"input-field col s6\"},React.createElement(\"p\",null,\"M\\xF3dulo :\"),React.createElement(\"select\",{id:\"modulos\",className:\"browser-default\",defaultValue:this.props.location.modulo},this.showModulos())))),React.createElement(\"div\",{className:\"card-panel\"},React.createElement(\"div\",{className:\"card-content\"},React.createElement(\"span\",{className:\"card-title\"},React.createElement(\"h4\",null,\"Respuestas\")),React.createElement(\"div\",{className:\"row\"},React.createElement(\"form\",{className:\"col s12\"},React.createElement(\"input\",{id:\"id_resp_1\",type:\"hidden\",value:this.props.ids[0]}),React.createElement(\"div\",{className:\"input-field col s1\"},React.createElement(\"select\",{id:\"pos_resp_1\",className:\"browser-default\",value:this.props.positionsDefaults[0],onChange:function onChange(e){_this2.positionChange(e,['a','b','c']);}},React.createElement(\"option\",{value:\"\"},\"Posici\\xF3n\"),this.showOptions(['a','b','c']))),React.createElement(\"div\",{className:\"input-field col s10\"},React.createElement(\"input\",{id:\"texto_respuesta_1\",type:\"text\",className:\"validate\",defaultValue:this.props.textsDefaults[0],onChange:this.textChange})),React.createElement(\"div\",{className:\"input-field col s1\"},React.createElement(\"select\",{id:\"score_resp_1\",className:\"browser-default\",value:this.props.scoresDefaults[0],onChange:function onChange(e){_this2.scoreChange(e,['0','1','2']);}},React.createElement(\"option\",{value:\"\"},\"Puntaje\"),this.showOptions(['0','1','2'])))))),React.createElement(\"div\",{className:\"card-content\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"form\",{className:\"col s12\"},React.createElement(\"input\",{id:\"id_resp_2\",type:\"hidden\",value:this.props.ids[1]}),React.createElement(\"div\",{className:\"input-field col s1\"},React.createElement(\"select\",{id:\"pos_resp_2\",className:\"browser-default\",value:this.props.positionsDefaults[1],onChange:function onChange(e){_this2.positionChange(e,_this2.state.positions.slice());}},React.createElement(\"option\",{value:\"default\"},\"Posici\\xF3n\"),this.showOptions(this.state.positions))),React.createElement(\"div\",{className:\"input-field col s10\"},React.createElement(\"input\",{id:\"texto_respuesta_2\",type:\"text\",className:\"validate\",defaultValue:this.props.textsDefaults[1],onChange:this.textChange})),React.createElement(\"div\",{className:\"input-field col s1\"},React.createElement(\"select\",{id:\"score_resp_2\",className:\"browser-default\",value:this.props.scoresDefaults[1],onChange:function onChange(e){_this2.scoreChange(e,_this2.state.scores.slice());}},React.createElement(\"option\",{value:\"\"},\"Puntaje\"),this.showOptions(this.state.scores)))))),React.createElement(\"div\",{className:\"card-content\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"form\",{className:\"col s12\"},React.createElement(\"input\",{id:\"id_resp_3\",type:\"hidden\",value:this.props.ids[2]}),React.createElement(\"div\",{className:\"input-field col s1\"},React.createElement(\"select\",{id:\"pos_resp_3\",className:\"browser-default\",value:this.props.positionsDefaults[2]},React.createElement(\"option\",{value:\"\"},\"Posici\\xF3n\"),this.showOptions(this.state.positionsLastSelect))),React.createElement(\"div\",{className:\"input-field col s10\"},React.createElement(\"input\",{id:\"texto_respuesta_3\",type:\"text\",className:\"validate\",defaultValue:this.props.textsDefaults[2],onChange:this.textChange})),React.createElement(\"div\",{className:\"input-field col s1\"},React.createElement(\"select\",{id:\"score_resp_3\",className:\"browser-default\",value:this.props.scoresDefaults[2]},React.createElement(\"option\",{value:\"default\"},\"Puntaje\"),this.showOptions(this.state.scoresLastSelect)))))),React.createElement(\"div\",{className:\"card-action\"},React.createElement(Link,{className:\"btn btn-primary btn_opts\",onClick:this.editar,to:\"/preguntas\"},\"Guardar\"),React.createElement(Link,{className:\"btn btn-primary btn_opts\",to:\"/preguntas\"},\"Cancelar\"),React.createElement(Link,{className:\"btn btn-primary btn_opts\",to:\"/preguntas\",onClick:function onClick(){_this2.delete();}},\"Eliminar\"))))));}}]);return EditarPregunta;}(Component);var mapToStateProps=function mapToStateProps(reducers){return reducers.preguntasReducers;};export default connect(mapToStateProps,preguntasActions)(EditarPregunta);","map":{"version":3,"sources":["C:/wamp64/www/whitelabel_fe/src/components/dashboard/preguntas/editar/EditarPregunta.js"],"names":["React","Component","CKEditor","Link","connect","preguntasActions","EditarPregunta","props","editar","data","location","id","state","document","getElementById","value","editarPregunta","positionChange","e","positions","postionsEnables","pos","indexOf","target","splice","setState","positionsLastSelect","clearPositionsDefaults","scoreChange","scores","scoresEnables","scoresLastSelect","clearScoresDefaults","showOptions","options","map","op","index","delete","eliminarPregunta","showModulos","modulos","p","texto","textChange","handleChange","bind","onEditorChange","traerRespById","clearAllValues","evt","editor","getData","changeEvent","enunciado","modulo","ids","positionsDefaults","textsDefaults","scoresDefaults","slice","mapToStateProps","reducers","preguntasReducers"],"mappings":"07BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAO,GAAKC,CAAAA,gBAAZ,KAAkC,sCAAlC,C,GAEMC,CAAAA,c,wEAEF,wBAAYC,KAAZ,CAAmB,gDACf,gFAAMA,KAAN,GADe,MA+BnBC,MA/BmB,CA+BV,UAAM,CAEX,GAAIC,CAAAA,IAAI,CAAG,CACP,KAAM,MAAKF,KAAL,CAAWG,QAAX,CAAoBC,EADnB,CAEP,QAAS,MAAKC,KAAL,CAAWH,IAFb,CAGP,YAAaI,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,KAHzC,CAIP,YAAaF,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAJ3C,CAKP,aAAc,CACV,CACI,KAAMF,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAD/C,CAEI,QAASF,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CC,KAF1D,CAGI,WAAYF,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAHtD,CAII,UAAWF,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,KAJvD,CADU,CAOV,CACI,KAAMF,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAD/C,CAEI,QAASF,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CC,KAF1D,CAGI,WAAYF,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAHtD,CAII,UAAWF,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,KAJvD,CAPU,CAaV,CACI,KAAMF,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAD/C,CAEI,QAASF,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CC,KAF1D,CAGI,WAAYF,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAHtD,CAII,UAAWF,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,KAJvD,CAbU,CALP,CAAX,CA0BA,MAAKR,KAAL,CAAWS,cAAX,CAA0BP,IAA1B,EACH,CA5DkB,OA8DnBQ,cA9DmB,CA8DF,SAACC,CAAD,CAAIC,SAAJ,CAAkB,CAC/B,GAAIC,CAAAA,eAAe,CAAGD,SAAtB,CACA,GAAIE,CAAAA,GAAG,CAAGD,eAAe,CAACE,OAAhB,CAAwBJ,CAAC,CAACK,MAAF,CAASR,KAAjC,CAAV,CACAK,eAAe,CAACI,MAAhB,CAAuBH,GAAvB,CAA4B,CAA5B,EACA,GAAIH,CAAC,CAACK,MAAF,CAASZ,EAAT,EAAe,YAAnB,CAAiC,CAC7B,MAAKc,QAAL,CAAc,CACVN,SAAS,CAAEC,eADD,CAAd,EAGH,CAJD,IAIO,CACH,MAAKK,QAAL,CAAc,CACVC,mBAAmB,CAAEN,eADX,CAAd,EAGH,CACD,MAAKb,KAAL,CAAWoB,sBAAX,GACH,CA5EkB,OA8EnBC,WA9EmB,CA8EL,SAACV,CAAD,CAAIW,MAAJ,CAAe,CACzB,GAAIC,CAAAA,aAAa,CAAGD,MAApB,CACA,GAAIR,CAAAA,GAAG,CAAGS,aAAa,CAACR,OAAd,CAAsBJ,CAAC,CAACK,MAAF,CAASR,KAA/B,CAAV,CACAe,aAAa,CAACN,MAAd,CAAqBH,GAArB,CAA0B,CAA1B,EACA,GAAIH,CAAC,CAACK,MAAF,CAASZ,EAAT,EAAe,cAAnB,CAAmC,CAC/B,MAAKc,QAAL,CAAc,CACVI,MAAM,CAAEC,aADE,CAAd,EAGH,CAJD,IAIO,CACH,MAAKL,QAAL,CAAc,CACVM,gBAAgB,CAAED,aADR,CAAd,EAGH,CACD,MAAKvB,KAAL,CAAWyB,mBAAX,GACH,CA5FkB,OA8FnBC,WA9FmB,CA8FL,SAACC,OAAD,QACVA,CAAAA,OAAO,CAACC,GAAR,CAAY,SAACC,EAAD,CAAKC,KAAL,QACR,+BAAQ,GAAG,CAAEA,KAAb,CAAoB,KAAK,CAAED,EAA3B,EAAgCA,EAAhC,CADQ,EAAZ,CADU,EA9FK,OAoGnBE,MApGmB,CAoGV,UAAM,CACX,MAAK/B,KAAL,CAAWgC,gBAAX,CAA4B,MAAKhC,KAAL,CAAWG,QAAX,CAAoBC,EAAhD,EACH,CAtGkB,OAwGnB6B,WAxGmB,CAwGL,iBAAM,OAAKjC,KAAL,CAAWkC,OAAX,CAAmBN,GAAnB,CAAuB,SAACO,CAAD,CAAIL,KAAJ,QACvC,+BAAQ,GAAG,CAAEA,KAAb,CAAoB,KAAK,CAAEK,CAAC,CAAC/B,EAA7B,EAAkC+B,CAAC,CAACC,KAApC,CADuC,EAAvB,CAAN,EAxGK,OA4GnBC,UA5GmB,CA4GN,SAAC1B,CAAD,CAAO,CAEnB,CA9GkB,CAEf,MAAKN,KAAL,CAAa,CACTH,IAAI,CAAE,MAAKF,KAAL,CAAWG,QAAX,CAAoBiC,KADjB,CAETxB,SAAS,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAFF,CAGTO,mBAAmB,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAHZ,CAITG,MAAM,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAJC,CAKTE,gBAAgB,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CALT,CAAb,CAQA,MAAKc,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBD,IAApB,+BAAtB,CAXe,aAYlB,C,wFACmB,CAChB,KAAKvC,KAAL,CAAWyC,aAAX,CAAyB,KAAKzC,KAAL,CAAWG,QAAX,CAAoBC,EAA7C,EACH,C,+DACoB,CACjB,KAAKJ,KAAL,CAAW0C,cAAX,GACH,C,sDACcC,G,CAAK,CAChB,KAAKzB,QAAL,CAAc,CACVhB,IAAI,CAAEyC,GAAG,CAACC,MAAJ,CAAWC,OAAX,EADI,CAAd,EAGH,C,kDAEYC,W,CAAa,CACtB,KAAK5B,QAAL,CAAc,CACVhB,IAAI,CAAE4C,WAAW,CAAC9B,MAAZ,CAAmBR,KADf,CAAd,EAGH,C,uCAmFQ,iBAEL,MACI,4BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,SAAf,EACI,2BAAK,SAAS,CAAC,YAAf,EACI,2BAAK,SAAS,CAAC,YAAf,EAA4B,gDAA5B,CADJ,CAEI,2BAAK,SAAS,CAAC,cAAf,EACI,2BAAK,SAAS,CAAC,KAAf,EACI,4BAAM,SAAS,CAAC,SAAhB,EACI,2BAAK,KAAK,CAAC,KAAX,EACI,2BAAK,KAAK,CAAC,qBAAX,EACI,yCADJ,CAEI,gCAAU,EAAE,CAAC,WAAb,CAAyB,KAAK,CAAC,sBAA/B,CAAsD,YAAY,CAAE,KAAKR,KAAL,CAAWG,QAAX,CAAoB4C,SAAxF,EAFJ,CADJ,CADJ,CAOI,wDAPJ,CAQI,oBAAC,QAAD,EACI,IAAI,CAAE,KAAK1C,KAAL,CAAWH,IADrB,CAEI,QAAQ,CAAE,KAAKsC,cAFnB,EARJ,CADJ,CADJ,CAeI,2BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,oBAAf,EACI,2CADJ,CAEI,8BAAQ,EAAE,CAAC,SAAX,CAAqB,SAAS,CAAC,iBAA/B,CAAiD,YAAY,CAAE,KAAKxC,KAAL,CAAWG,QAAX,CAAoB6C,MAAnF,EACK,KAAKf,WAAL,EADL,CAFJ,CADJ,CAfJ,CAFJ,CA0BI,2BAAK,SAAS,CAAC,YAAf,EACI,2BAAK,SAAS,CAAC,cAAf,EACI,4BAAM,SAAS,CAAC,YAAhB,EAA6B,2CAA7B,CADJ,CAEI,2BAAK,SAAS,CAAC,KAAf,EACI,4BAAM,SAAS,CAAC,SAAhB,EACI,6BAAO,EAAE,CAAC,WAAV,CAAsB,IAAI,CAAC,QAA3B,CAAoC,KAAK,CAAE,KAAKjC,KAAL,CAAWiD,GAAX,CAAe,CAAf,CAA3C,EADJ,CAEI,2BAAK,SAAS,CAAC,oBAAf,EACI,8BAAQ,EAAE,CAAC,YAAX,CAAwB,SAAS,CAAC,iBAAlC,CAAoD,KAAK,CAAE,KAAKjD,KAAL,CAAWkD,iBAAX,CAA6B,CAA7B,CAA3D,CAA4F,QAAQ,CAAE,kBAACvC,CAAD,CAAO,CAAE,MAAI,CAACD,cAAL,CAAoBC,CAApB,CAAuB,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAvB,EAAyC,CAAxJ,EACI,8BAAQ,KAAK,CAAC,EAAd,gBADJ,CAEK,KAAKe,WAAL,CAAiB,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAjB,CAFL,CADJ,CAFJ,CAQI,2BAAK,SAAS,CAAC,qBAAf,EACI,6BAAO,EAAE,CAAC,mBAAV,CAA8B,IAAI,CAAC,MAAnC,CAA0C,SAAS,CAAC,UAApD,CAA+D,YAAY,CAAE,KAAK1B,KAAL,CAAWmD,aAAX,CAAyB,CAAzB,CAA7E,CAA0G,QAAQ,CAAE,KAAKd,UAAzH,EADJ,CARJ,CAWI,2BAAK,SAAS,CAAC,oBAAf,EACI,8BAAQ,EAAE,CAAC,cAAX,CAA0B,SAAS,CAAC,iBAApC,CAAsD,KAAK,CAAE,KAAKrC,KAAL,CAAWoD,cAAX,CAA0B,CAA1B,CAA7D,CAA2F,QAAQ,CAAE,kBAACzC,CAAD,CAAO,CAAE,MAAI,CAACU,WAAL,CAAiBV,CAAjB,CAAoB,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAApB,EAAsC,CAApJ,EACI,8BAAQ,KAAK,CAAC,EAAd,YADJ,CAEK,KAAKe,WAAL,CAAiB,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAjB,CAFL,CADJ,CAXJ,CADJ,CAFJ,CADJ,CAwBI,2BAAK,SAAS,CAAC,cAAf,EACI,2BAAK,SAAS,CAAC,KAAf,EACI,4BAAM,SAAS,CAAC,SAAhB,EACI,6BAAO,EAAE,CAAC,WAAV,CAAsB,IAAI,CAAC,QAA3B,CAAoC,KAAK,CAAE,KAAK1B,KAAL,CAAWiD,GAAX,CAAe,CAAf,CAA3C,EADJ,CAEI,2BAAK,SAAS,CAAC,oBAAf,EACI,8BAAQ,EAAE,CAAC,YAAX,CAAwB,SAAS,CAAC,iBAAlC,CAAoD,KAAK,CAAE,KAAKjD,KAAL,CAAWkD,iBAAX,CAA6B,CAA7B,CAA3D,CAA4F,QAAQ,CAAE,kBAACvC,CAAD,CAAO,CAAE,MAAI,CAACD,cAAL,CAAoBC,CAApB,CAAuB,MAAI,CAACN,KAAL,CAAWO,SAAX,CAAqByC,KAArB,EAAvB,EAAsD,CAArK,EACI,8BAAQ,KAAK,CAAC,SAAd,gBADJ,CAEK,KAAK3B,WAAL,CAAiB,KAAKrB,KAAL,CAAWO,SAA5B,CAFL,CADJ,CAFJ,CAQI,2BAAK,SAAS,CAAC,qBAAf,EACI,6BAAO,EAAE,CAAC,mBAAV,CAA8B,IAAI,CAAC,MAAnC,CAA0C,SAAS,CAAC,UAApD,CAA+D,YAAY,CAAE,KAAKZ,KAAL,CAAWmD,aAAX,CAAyB,CAAzB,CAA7E,CAA0G,QAAQ,CAAE,KAAKd,UAAzH,EADJ,CARJ,CAWI,2BAAK,SAAS,CAAC,oBAAf,EACI,8BAAQ,EAAE,CAAC,cAAX,CAA0B,SAAS,CAAC,iBAApC,CAAsD,KAAK,CAAE,KAAKrC,KAAL,CAAWoD,cAAX,CAA0B,CAA1B,CAA7D,CAA2F,QAAQ,CAAE,kBAACzC,CAAD,CAAO,CAAE,MAAI,CAACU,WAAL,CAAiBV,CAAjB,CAAoB,MAAI,CAACN,KAAL,CAAWiB,MAAX,CAAkB+B,KAAlB,EAApB,EAAgD,CAA9J,EACI,8BAAQ,KAAK,CAAC,EAAd,YADJ,CAEK,KAAK3B,WAAL,CAAiB,KAAKrB,KAAL,CAAWiB,MAA5B,CAFL,CADJ,CAXJ,CADJ,CADJ,CAxBJ,CA8CI,2BAAK,SAAS,CAAC,cAAf,EACI,2BAAK,SAAS,CAAC,KAAf,EACI,4BAAM,SAAS,CAAC,SAAhB,EACI,6BAAO,EAAE,CAAC,WAAV,CAAsB,IAAI,CAAC,QAA3B,CAAoC,KAAK,CAAE,KAAKtB,KAAL,CAAWiD,GAAX,CAAe,CAAf,CAA3C,EADJ,CAEI,2BAAK,SAAS,CAAC,oBAAf,EACI,8BAAQ,EAAE,CAAC,YAAX,CAAwB,SAAS,CAAC,iBAAlC,CAAoD,KAAK,CAAE,KAAKjD,KAAL,CAAWkD,iBAAX,CAA6B,CAA7B,CAA3D,EACI,8BAAQ,KAAK,CAAC,EAAd,gBADJ,CAEK,KAAKxB,WAAL,CAAiB,KAAKrB,KAAL,CAAWc,mBAA5B,CAFL,CADJ,CAFJ,CAQI,2BAAK,SAAS,CAAC,qBAAf,EACI,6BAAO,EAAE,CAAC,mBAAV,CAA8B,IAAI,CAAC,MAAnC,CAA0C,SAAS,CAAC,UAApD,CAA+D,YAAY,CAAE,KAAKnB,KAAL,CAAWmD,aAAX,CAAyB,CAAzB,CAA7E,CAA0G,QAAQ,CAAE,KAAKd,UAAzH,EADJ,CARJ,CAYI,2BAAK,SAAS,CAAC,oBAAf,EACI,8BAAQ,EAAE,CAAC,cAAX,CAA0B,SAAS,CAAC,iBAApC,CAAsD,KAAK,CAAE,KAAKrC,KAAL,CAAWoD,cAAX,CAA0B,CAA1B,CAA7D,EACI,8BAAQ,KAAK,CAAC,SAAd,YADJ,CAEK,KAAK1B,WAAL,CAAiB,KAAKrB,KAAL,CAAWmB,gBAA5B,CAFL,CADJ,CAZJ,CADJ,CADJ,CA9CJ,CAqEI,2BAAK,SAAS,CAAC,aAAf,EACI,oBAAC,IAAD,EAAM,SAAS,CAAC,0BAAhB,CAA2C,OAAO,CAAE,KAAKvB,MAAzD,CAAiE,EAAE,CAAC,YAApE,YADJ,CAEI,oBAAC,IAAD,EAAM,SAAS,CAAC,0BAAhB,CAA2C,EAAE,CAAC,YAA9C,aAFJ,CAGI,oBAAC,IAAD,EAAM,SAAS,CAAC,0BAAhB,CAA2C,EAAE,CAAC,YAA9C,CAA2D,OAAO,CAAE,kBAAM,CAAE,MAAI,CAAC8B,MAAL,GAAe,CAA3F,aAHJ,CArEJ,CA1BJ,CADJ,CADJ,CADJ,CA4GH,C,4BAhOwBrC,S,EAkO7B,GAAM4D,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,QAAD,CAAc,CAClC,MAAOA,CAAAA,QAAQ,CAACC,iBAAhB,CACH,CAFD,CAGA,cAAe3D,CAAAA,OAAO,CAACyD,eAAD,CAAkBxD,gBAAlB,CAAP,CAA2CC,cAA3C,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport CKEditor from 'ckeditor4-react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport * as preguntasActions from '../../../../actions/preguntasActions';\r\n\r\nclass EditarPregunta extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: this.props.location.texto,\r\n            positions: ['a', 'b', 'c'],\r\n            positionsLastSelect: ['a', 'b', 'c'],\r\n            scores: ['0', '1', '2'],\r\n            scoresLastSelect: ['0', '1', '2']\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.onEditorChange = this.onEditorChange.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        this.props.traerRespById(this.props.location.id);\r\n    }\r\n    componentWillMount() {\r\n        this.props.clearAllValues();\r\n    }\r\n    onEditorChange(evt) {\r\n        this.setState({\r\n            data: evt.editor.getData()\r\n        });\r\n    }\r\n\r\n    handleChange(changeEvent) {\r\n        this.setState({\r\n            data: changeEvent.target.value\r\n        });\r\n    }\r\n\r\n    editar = () => {\r\n\r\n        let data = {\r\n            \"id\": this.props.location.id,\r\n            \"texto\": this.state.data,\r\n            \"modulo_id\": document.getElementById('modulos').value,\r\n            \"enunciado\": document.getElementById('enunciado').value,\r\n            \"respuestas\": [\r\n                {\r\n                    \"id\": document.getElementById('id_resp_1').value,\r\n                    \"texto\": document.getElementById('texto_respuesta_1').value,\r\n                    \"posicion\": document.getElementById('pos_resp_1').value,\r\n                    \"puntaje\": document.getElementById('score_resp_1').value\r\n                },\r\n                {\r\n                    \"id\": document.getElementById('id_resp_2').value,\r\n                    \"texto\": document.getElementById('texto_respuesta_2').value,\r\n                    \"posicion\": document.getElementById('pos_resp_2').value,\r\n                    \"puntaje\": document.getElementById('score_resp_2').value\r\n                },\r\n                {\r\n                    \"id\": document.getElementById('id_resp_3').value,\r\n                    \"texto\": document.getElementById('texto_respuesta_3').value,\r\n                    \"posicion\": document.getElementById('pos_resp_3').value,\r\n                    \"puntaje\": document.getElementById('score_resp_3').value\r\n                }\r\n            ]\r\n        }\r\n        this.props.editarPregunta(data);\r\n    }\r\n\r\n    positionChange = (e, positions) => {\r\n        let postionsEnables = positions;\r\n        let pos = postionsEnables.indexOf(e.target.value);\r\n        postionsEnables.splice(pos, 1);\r\n        if (e.target.id == 'pos_resp_1') {\r\n            this.setState({\r\n                positions: postionsEnables\r\n            });\r\n        } else {\r\n            this.setState({\r\n                positionsLastSelect: postionsEnables\r\n            });\r\n        }\r\n        this.props.clearPositionsDefaults();\r\n    }\r\n\r\n    scoreChange = (e, scores) => {\r\n        let scoresEnables = scores;\r\n        let pos = scoresEnables.indexOf(e.target.value);\r\n        scoresEnables.splice(pos, 1);\r\n        if (e.target.id == 'score_resp_1') {\r\n            this.setState({\r\n                scores: scoresEnables\r\n            });\r\n        } else {\r\n            this.setState({\r\n                scoresLastSelect: scoresEnables\r\n            });\r\n        }\r\n        this.props.clearScoresDefaults();\r\n    }\r\n\r\n    showOptions = (options) => (\r\n        options.map((op, index) => (\r\n            <option key={index} value={op}>{op}</option>\r\n        ))\r\n    )\r\n\r\n    delete = () => {\r\n        this.props.eliminarPregunta(this.props.location.id);\r\n    }\r\n\r\n    showModulos = () => this.props.modulos.map((p, index) => (\r\n        <option key={index} value={p.id}>{p.texto}</option>\r\n    ))\r\n\r\n    textChange = (e) => {\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col l12\">\r\n                    <div className=\"card-panel\">\r\n                        <div className=\"card-title\"><h5>Editar pregunta</h5></div>\r\n                        <div className=\"card-content\">\r\n                            <div className=\"row\">\r\n                                <form className=\"col s12\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"input-field col s12\">\r\n                                            <p>Enunciado</p>\r\n                                            <textarea id=\"enunciado\" class=\"materialize-textarea\" defaultValue={this.props.location.enunciado}></textarea>\r\n                                        </div>\r\n                                    </div>\r\n                                    <label>Texto de la pregunta</label>\r\n                                    <CKEditor\r\n                                        data={this.state.data}\r\n                                        onChange={this.onEditorChange} />\r\n                                </form>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"input-field col s6\">\r\n                                    <p>Módulo :</p>\r\n                                    <select id=\"modulos\" className=\"browser-default\" defaultValue={this.props.location.modulo}>\r\n                                        {this.showModulos()}\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card-panel\">\r\n                            <div className=\"card-content\">\r\n                                <span className=\"card-title\"><h4>Respuestas</h4></span>\r\n                                <div className=\"row\">\r\n                                    <form className=\"col s12\">\r\n                                        <input id=\"id_resp_1\" type=\"hidden\" value={this.props.ids[0]}></input>\r\n                                        <div className=\"input-field col s1\">\r\n                                            <select id=\"pos_resp_1\" className=\"browser-default\" value={this.props.positionsDefaults[0]} onChange={(e) => { this.positionChange(e, ['a', 'b', 'c']) }}>\r\n                                                <option value=\"\">Posición</option>\r\n                                                {this.showOptions(['a', 'b', 'c'])}\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"input-field col s10\">\r\n                                            <input id=\"texto_respuesta_1\" type=\"text\" className=\"validate\" defaultValue={this.props.textsDefaults[0]} onChange={this.textChange} />\r\n                                        </div>\r\n                                        <div className=\"input-field col s1\">\r\n                                            <select id=\"score_resp_1\" className=\"browser-default\" value={this.props.scoresDefaults[0]} onChange={(e) => { this.scoreChange(e, ['0', '1', '2']) }}>\r\n                                                <option value=\"\" >Puntaje</option>\r\n                                                {this.showOptions(['0', '1', '2'])}\r\n                                            </select>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"card-content\">\r\n                                <div className=\"row\">\r\n                                    <form className=\"col s12\">\r\n                                        <input id=\"id_resp_2\" type=\"hidden\" value={this.props.ids[1]}></input>\r\n                                        <div className=\"input-field col s1\">\r\n                                            <select id='pos_resp_2' className=\"browser-default\" value={this.props.positionsDefaults[1]} onChange={(e) => { this.positionChange(e, this.state.positions.slice()) }}>\r\n                                                <option value=\"default\">Posición</option>\r\n                                                {this.showOptions(this.state.positions)}\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"input-field col s10\">\r\n                                            <input id=\"texto_respuesta_2\" type=\"text\" className=\"validate\" defaultValue={this.props.textsDefaults[1]} onChange={this.textChange} />\r\n                                        </div>\r\n                                        <div className=\"input-field col s1\">\r\n                                            <select id=\"score_resp_2\" className=\"browser-default\" value={this.props.scoresDefaults[1]} onChange={(e) => { this.scoreChange(e, this.state.scores.slice()) }}>\r\n                                                <option value=\"\">Puntaje</option>\r\n                                                {this.showOptions(this.state.scores)}\r\n                                            </select>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"card-content\">\r\n                                <div className=\"row\">\r\n                                    <form className=\"col s12\">\r\n                                        <input id=\"id_resp_3\" type=\"hidden\" value={this.props.ids[2]}></input>\r\n                                        <div className=\"input-field col s1\">\r\n                                            <select id='pos_resp_3' className=\"browser-default\" value={this.props.positionsDefaults[2]}>\r\n                                                <option value=\"\">Posición</option>\r\n                                                {this.showOptions(this.state.positionsLastSelect)}\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"input-field col s10\">\r\n                                            <input id=\"texto_respuesta_3\" type=\"text\" className=\"validate\" defaultValue={this.props.textsDefaults[2]} onChange={this.textChange} />\r\n\r\n                                        </div>\r\n                                        <div className=\"input-field col s1\">\r\n                                            <select id=\"score_resp_3\" className=\"browser-default\" value={this.props.scoresDefaults[2]}>\r\n                                                <option value=\"default\">Puntaje</option>\r\n                                                {this.showOptions(this.state.scoresLastSelect)}\r\n                                            </select>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"card-action\">\r\n                                <Link className=\"btn btn-primary btn_opts\" onClick={this.editar} to='/preguntas'>Guardar</Link>\r\n                                <Link className=\"btn btn-primary btn_opts\" to='/preguntas'>Cancelar</Link>\r\n                                <Link className=\"btn btn-primary btn_opts\" to='/preguntas' onClick={() => { this.delete() }}>Eliminar</Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\nconst mapToStateProps = (reducers) => {\r\n    return reducers.preguntasReducers;\r\n}\r\nexport default connect(mapToStateProps, preguntasActions)(EditarPregunta);"]},"metadata":{},"sourceType":"module"}
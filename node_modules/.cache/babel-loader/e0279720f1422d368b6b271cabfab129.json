{"ast":null,"code":"import _defineProperty from\"C:\\\\wamp64\\\\www\\\\Torre\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:\\\\wamp64\\\\www\\\\Torre\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _classCallCheck from\"C:\\\\wamp64\\\\www\\\\Torre\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\wamp64\\\\www\\\\Torre\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\wamp64\\\\www\\\\Torre\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\wamp64\\\\www\\\\Torre\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\wamp64\\\\www\\\\Torre\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\wamp64\\\\www\\\\Torre\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import Login from'../login/Login';import Dashboard from'../dashboard/Dashboard';var Master=/*#__PURE__*/function(_Component){_inherits(Master,_Component);function Master(props){var _this;_classCallCheck(this,Master);_this=_possibleConstructorReturn(this,_getPrototypeOf(Master).call(this,props));_this.changeLogin=function(data){console.log(data);_this.setState({login:!_this.state.login,dataUser:data});};_this.setDataOpt=function(id){axios.get('https://torre.co/api/opportunities/'+id).then(function(res){_this.setState({objective:res.data.objective,details:res.data.details});});};_this.changeCargandoNet=function _callee(){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(_this.state.graph=='')){_context.next=4;break;}_this.setState({cargandoNetwork:!_this.state.cargandoNetwork});_context.next=4;return _regeneratorRuntime.awrap(axios.get('https://bio.torre.co/api/people/'+_this.state.dataUser.person.publicId+'/network?deep=10').then(function(res){_this.setState({cargandoNetwork:!_this.state.cargandoNetwork,graph:res.data.graph});}));case 4:case\"end\":return _context.stop();}}});};_this.changeCarganOpts=function _callee2(){return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({cargandoOpts:true});_context2.next=3;return _regeneratorRuntime.awrap(axios.post('https://search.torre.co/opportunities/_search/?offset=0&&size=20&aggregate=false').then(function(res){console.log(_this.state.cargandoOpts);_this.setState({cargandoOpts:false,opts:res.data.results});}));case 3:case\"end\":return _context2.stop();}}});};_this.changeComponent=function(){var _React$createElement;if(!_this.state.login){window.localStorage.clear();return React.createElement(Login,{changeLogin:_this.changeLogin.bind(_assertThisInitialized(_this))});}return React.createElement(Dashboard,(_React$createElement={changeLogin:_this.changeLogin.bind(_assertThisInitialized(_this)),dataUser:_this.state.dataUser,cargandoNet:_this.changeCargandoNet.bind(_assertThisInitialized(_this)),cargando:_this.state.cargandoNetwork,graph:_this.state.graph,cargandoOpts:_this.changeCarganOpts.bind(_assertThisInitialized(_this)),cargandoOp:_this.state.cargandoOpts},_defineProperty(_React$createElement,\"graph\",_this.state.graph),_defineProperty(_React$createElement,\"opts\",_this.state.opts),_defineProperty(_React$createElement,\"objective\",_this.state.objective),_defineProperty(_React$createElement,\"details\",_this.state.details),_defineProperty(_React$createElement,\"setDataOpt\",_this.setDataOpt.bind(_assertThisInitialized(_this))),_React$createElement));};_this.state={login:false,dataUser:'',cargandoNetwork:false,cargandoOpts:false,graph:'',opts:'',objective:'',details:''};return _this;}_createClass(Master,[{key:\"render\",value:function render(){return React.createElement(\"div\",null,this.changeComponent());}}]);return Master;}(Component);export default Master;","map":{"version":3,"sources":["C:/wamp64/www/Torre/src/components/master/Master.js"],"names":["React","Component","axios","Login","Dashboard","Master","props","changeLogin","data","console","log","setState","login","state","dataUser","setDataOpt","id","get","then","res","objective","details","changeCargandoNet","graph","cargandoNetwork","person","publicId","changeCarganOpts","cargandoOpts","post","opts","results","changeComponent","window","localStorage","clear","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Login from '../login/Login';\r\nimport Dashboard from '../dashboard/Dashboard';\r\n\r\nclass Master extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            login: false,\r\n            dataUser: '',\r\n            cargandoNetwork: false,\r\n            cargandoOpts: false,\r\n            graph: '',\r\n            opts: '',\r\n            objective: '',\r\n            details: ''\r\n        }\r\n    }\r\n\r\n    changeLogin = (data) => {\r\n        console.log(data);\r\n        this.setState({\r\n            login: !this.state.login,\r\n            dataUser: data,\r\n\r\n        });\r\n    }\r\n\r\n    setDataOpt = (id) => {\r\n        axios.get('https://torre.co/api/opportunities/'+id)\r\n        .then((res) => {\r\n            this.setState({\r\n                objective: res.data.objective,\r\n                details: res.data.details\r\n            })\r\n        })\r\n    } \r\n    changeCargandoNet = async () => {\r\n        if (this.state.graph == '') {\r\n            this.setState({\r\n                cargandoNetwork: !this.state.cargandoNetwork\r\n            })\r\n            await axios.get('https://bio.torre.co/api/people/' + this.state.dataUser.person.publicId + '/network?deep=10')\r\n                .then((res) => {\r\n                    this.setState({\r\n                        cargandoNetwork: !this.state.cargandoNetwork,\r\n                        graph: res.data.graph\r\n                    });\r\n                })\r\n        }\r\n\r\n    }\r\n\r\n    changeCarganOpts = async () => {\r\n        this.setState({\r\n            cargandoOpts: true\r\n        })\r\n        await axios.post('https://search.torre.co/opportunities/_search/?offset=0&&size=20&aggregate=false')\r\n            .then((res) => {\r\n                console.log(this.state.cargandoOpts);\r\n                this.setState({\r\n                    cargandoOpts: false,\r\n                    opts: res.data.results\r\n                });\r\n            }\r\n\r\n            )\r\n\r\n    }\r\n\r\n    changeComponent = () => {\r\n        if (!this.state.login) {\r\n            window.localStorage.clear();\r\n            return <Login changeLogin={this.changeLogin.bind(this)} />\r\n        }\r\n        return <Dashboard\r\n            changeLogin={this.changeLogin.bind(this)}\r\n            dataUser={this.state.dataUser}\r\n            cargandoNet={this.changeCargandoNet.bind(this)}\r\n            cargando={this.state.cargandoNetwork}\r\n            graph={this.state.graph}\r\n            cargandoOpts={this.changeCarganOpts.bind(this)}\r\n            cargandoOp={this.state.cargandoOpts}\r\n            graph={this.state.graph}\r\n            opts={this.state.opts}\r\n            objective={this.state.objective}\r\n            details={this.state.details}\r\n            setDataOpt={this.setDataOpt.bind(this)}\r\n        />\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.changeComponent()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Master;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\wamp64\\\\www\\\\whitelabel_fe\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./Crear.css';import{Link}from'react-router-dom';import{connect}from'react-redux';import*as recursosActions from'../../../../actions/recursosActions';var CrearRecurso=/*#__PURE__*/function(_Component){_inherits(CrearRecurso,_Component);function CrearRecurso(props){var _this;_classCallCheck(this,CrearRecurso);_this=_possibleConstructorReturn(this,_getPrototypeOf(CrearRecurso).call(this,props));_this.crear=function(){var data={//\"id\": this.props.lastId + 1,\n\"name\":document.getElementById('nombre_recurso').value,//\"path\": window.localStorage.getItem('imgData'),\n\"size\":window.localStorage.getItem('size'),\"file\":_this.props.file,\"type\":_this.props.type};_this.props.crearRecurso(data,_this.props.recursos);};_this.handleChange=function(e){var file=e.target.files[0];if(file.type=='image/jpg'||file.type=='image/jpeg'||file.type=='image/png'){_this.setState({imageSrc:URL.createObjectURL(e.target.files[0]),showImage:true});window.localStorage.setItem('imgData',URL.createObjectURL(e.target.files[0]));window.localStorage.setItem('size',file.size);_this.props.setFile(file);_this.props.setType(file.type);}else{_this.setState({showImage:false});}};_this.showImage=function(){if(_this.state.showImage){return React.createElement(\"div\",{className:\"card\"},React.createElement(\"div\",{className:\"card-image\"},React.createElement(\"img\",{id:\"output\",src:_this.state.imageSrc,className:\"col l6\",alt:\"imagen\"})));}};_this.state={imageSrc:'',showImage:false};return _this;}_createClass(CrearRecurso,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col l12\"},React.createElement(\"div\",{className:\"card-panel\"},React.createElement(\"div\",{className:\"card-title\"},React.createElement(\"h5\",null,\"Crear recurso\")),React.createElement(\"div\",{className:\"card-content\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"form\",{className:\"col s6\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"input-field col s6\"},React.createElement(\"input\",{id:\"nombre_recurso\",type:\"text\",className:\"validate\"}),React.createElement(\"label\",{htmlFor:\"nombre_recurso\"},\"Nombre de la recurso\"))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"input-field col s6\"},React.createElement(\"input\",{id:\"url_recurso\",onChange:function onChange(e){return _this2.handleChange(e);},type:\"file\",className:\"validate\"})))),this.showImage())),React.createElement(\"div\",{className:\"card-action\"},React.createElement(Link,{className:\"btn btn-primary btn_opts\",onClick:this.crear,to:\"/recursos\"},\"Guardar\"),React.createElement(Link,{className:\"btn btn-primary btn_opts\",to:\"/recursos\"},\"Cancelar\")))));}}]);return CrearRecurso;}(Component);var mapToStateProps=function mapToStateProps(reducers){return reducers.recursosReducers;};export default connect(mapToStateProps,recursosActions)(CrearRecurso);","map":{"version":3,"sources":["C:/wamp64/www/whitelabel_fe/src/components/dashboard/recursos/crear/CrearRecurso.js"],"names":["React","Component","Link","connect","recursosActions","CrearRecurso","props","crear","data","document","getElementById","value","window","localStorage","getItem","file","type","crearRecurso","recursos","handleChange","e","target","files","setState","imageSrc","URL","createObjectURL","showImage","setItem","size","setFile","setType","state","mapToStateProps","reducers","recursosReducers"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './Crear.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport * as recursosActions from '../../../../actions/recursosActions';\r\n\r\n\r\nclass CrearRecurso extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            \r\n            imageSrc: '',\r\n            showImage: false\r\n        };\r\n    }\r\n\r\n    crear = () => {\r\n\r\n\r\n        let data = {\r\n            //\"id\": this.props.lastId + 1,\r\n            \"name\": document.getElementById('nombre_recurso').value,\r\n            //\"path\": window.localStorage.getItem('imgData'),\r\n            \"size\": window.localStorage.getItem('size'),\r\n            \"file\": this.props.file,\r\n            \"type\": this.props.type\r\n        }\r\n        this.props.crearRecurso(data, this.props.recursos);\r\n\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        var file = e.target.files[0];\r\n        if (file.type == 'image/jpg' || file.type == 'image/jpeg' || file.type == 'image/png') {            \r\n            this.setState({\r\n                imageSrc: URL.createObjectURL(e.target.files[0]),\r\n                showImage: true\r\n            })\r\n            window.localStorage.setItem('imgData', URL.createObjectURL(e.target.files[0]));\r\n            window.localStorage.setItem('size', file.size);\r\n            this.props.setFile(file);\r\n            this.props.setType(file.type);\r\n        }else{\r\n            this.setState({                \r\n                showImage: false\r\n            })\r\n        }\r\n\r\n    }\r\n    showImage = () => {\r\n        if (this.state.showImage) {\r\n            return (\r\n                <div className=\"card\">\r\n                    <div className=\"card-image\">\r\n                        <img id=\"output\" src={this.state.imageSrc} className=\"col l6\" alt=\"imagen\" />\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col l12\">\r\n                    <div className=\"card-panel\">\r\n                    <div className=\"card-title\"><h5>Crear recurso</h5></div>\r\n                        <div className=\"card-content\">\r\n                            <div className=\"row\">\r\n                                <form className=\"col s6\">\r\n                                    <div className=\"row\">\r\n                                        <div className=\"input-field col s6\">\r\n                                            <input id=\"nombre_recurso\" type=\"text\" className=\"validate\" />\r\n                                            <label htmlFor=\"nombre_recurso\">Nombre de la recurso</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"input-field col s6\">\r\n                                            <input id=\"url_recurso\" onChange={e => this.handleChange(e)} type=\"file\" className=\"validate\" />\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                                {this.showImage()}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card-action\">\r\n                            <Link className=\"btn btn-primary btn_opts\" onClick={this.crear} to='/recursos'>Guardar</Link>\r\n                            <Link className=\"btn btn-primary btn_opts\" to='/recursos'>Cancelar</Link>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapToStateProps = (reducers) => {\r\n    return reducers.recursosReducers;\r\n}\r\nexport default connect(mapToStateProps, recursosActions)(CrearRecurso);"]},"metadata":{},"sourceType":"module"}